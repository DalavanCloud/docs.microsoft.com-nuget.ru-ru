---
title: "Принудительные и удалить NuGet API | Документы Microsoft"
author:
- joelverhagen
- kraigb
ms.author:
- joelverhagen
- kraigb
manager: skofman
ms.date: 10/26/2017
ms.topic: reference
ms.prod: nuget
ms.technology: 
ms.assetid: 1eaa403a-5c13-4c05-9352-2f791b98aa7e
description: "Служба публикации позволяет клиентам публикации новых пакетов и исключить или удалите существующие пакеты."
keywords: "Пакет NuGet API push, NuGet API удалить пакет, NuGet API исключить пакета пакет NuGet интерфейса API передачи, NuGet API создания пакета"
ms.reviewer:
- karann
- unniravindranathan
ms.openlocfilehash: 5fbcd82b09ebd56ae21103640e7c39b482059525
ms.sourcegitcommit: bdcd2046b1b187d8b59716b9571142c02181c8fb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/10/2018
---
# <a name="push-and-delete"></a>Принудительные и удалить

Существует возможность push, удалить (или исключить, в зависимости от реализации сервера) и relist пакетов с помощью NuGet V3 API. Эти операции расположенного за пределами `PackagePublish` найти ресурс в [служба индекс](service-index.md).

## <a name="versioning"></a>Управление версиями

Следующие `@type` используется значение:

Значение @type          | Примечания
-------------------- | -----
PackagePublish/2.0.0 | Первоначальный выпуск

## <a name="base-url"></a>Базовый URL-адрес

Базовый URL-адрес для следующих API-интерфейсов — это значение `@id` свойство `PackagePublish/2.0.0` ресурсов в источнике пакетов [служба индекс](service-index.md). В следующих документах используется nuget.org URL-адрес. Рассмотрим `https://www.nuget.org/api/v2/package` как заполнитель для `@id` значение найдено в индексе службы.

Обратите внимание, на который этот URL-адрес указывает же расположении, что конечная точка устаревших V2 push, так как использует тот же протокол.

## <a name="http-methods"></a>Методы HTTP

`PUT`, `POST` И `DELETE` этот ресурс поддерживаемых методов HTTP. Какие методы поддерживаются для каждой конечной точки см. ниже.

## <a name="push-a-package"></a>Пакет Push

> [!Note]
> имеет NuGet.org [Дополнительные требования](NuGet-Protocols.md) для взаимодействия с конечной точкой push.

NuGet.org поддерживает принудительную отправку новых пакетов с помощью следующих API. Если пакет с предоставленным Идентификатором и версией уже существует, nuget.org отклонит принудительной отправки. Другие источники пакетов могут поддерживать замены существующего пакета.

```
PUT https://www.nuget.org/api/v2/package
```

### <a name="request-parameters"></a>Параметры запроса

name           | Увеличение     | Тип   | Обязательно | Примечания
-------------- | ------ | ------ | -------- | -----
X-NuGet-ApiKey | Header | string | да      | Например `X-NuGet-ApiKey: {USER_API_KEY}`.

Ключ API — непрозрачная строка получения из источника пакета пользователем и настроены в клиент. Формат строки не является обязательной, но длина ключа API не должно превышать разумный размер для значения заголовка HTTP.

### <a name="request-body"></a>Текст запроса

Текст запроса должен указываться в следующей форме:

#### <a name="multipart-form-data"></a>Данных составной формы

Заголовок запроса `Content-Type` — `multipart/form-data` и необработанные байты .nupkg нажимают является первый элемент в тексте запроса. Последующих элементов составного текста учитываются. Имя файла или другие заголовки составных элементов учитываются.

### <a name="response"></a>Ответ

Код состояния | Значение
----------- | -------
201, 202    | Пакет был успешно отправлен
400         | Предоставленный пакет является недопустимым
409         | Пакет с предоставленным Идентификатором и версией уже существует

Код состояния успеха возвращается, если пакет успешно отправлена по-разному реализаций серверов.

## <a name="delete-a-package"></a>Удаление пакета

NuGet.org интерпретирует запроса на удаление пакета как объект «исключить». Это означает, что пакет по-прежнему доступен для существующих потребителей пакета, но пакета больше не отображается в результатах поиска или веб-интерфейса. Дополнительные сведения об этом практическом см. в разделе [удалить пакеты](../policies/deleting-packages.md) политики. Реализации других серверов могут интерпретировать этот сигнал как окончательного удаления, возможностью удаления или исключить. Например [NuGet.Server](https://www.nuget.org/packages/NuGet.Server) (реализация сервера только поддержка более старых API V2) поддерживает обработка данного запроса в качестве unlist или окончательного удаления зависимости от параметра конфигурации.

```
DELETE https://www.nuget.org/api/v2/package/{ID}/{VERSION}
```

### <a name="request-parameters"></a>Параметры запроса

name           | Увеличение     | Тип   | Обязательно | Примечания
-------------- | ------ | ------ | -------- | -----
ID             | URL-адрес    | string | да      | Идентификатор пакета для удаления
VERSION        | URL-адрес    | string | да      | Версия пакета для удаления
X-NuGet-ApiKey | Header | string | да      | Например `X-NuGet-ApiKey: {USER_API_KEY}`.

### <a name="response"></a>Ответ

Код состояния | Значение
----------- | -------
204         | Пакет был удален.
404         | Без пакета с использованием указанного `ID` и `VERSION` существует

## <a name="relist-a-package"></a>Relist пакета

Если пакет, отсутствующие в списке, можно обеспечить еще раз отображается в результатах поиска, используя конечную точку «relist» этого пакета. Эта конечная точка имеет так же, как [удалить (исключить) конечной точки](#delete-a-package) , но использует `POST` HTTP вместо метода `DELETE` метод.

Если пакет уже присутствует в списке, запрос по-прежнему выполняется успешно.

```
POST https://www.nuget.org/api/v2/package/{ID}/{VERSION}
```

### <a name="request-parameters"></a>Параметры запроса

name           | Увеличение     | Тип   | Обязательно | Примечания
-------------- | ------ | ------ | -------- | -----
ID             | URL-адрес    | string | да      | Идентификатор пакета для relist
VERSION        | URL-адрес    | string | да      | Версия пакета для relist
X-NuGet-ApiKey | Header | string | да      | Например `X-NuGet-ApiKey: {USER_API_KEY}`.

### <a name="response"></a>Ответ

Код состояния | Значение
----------- | -------
200         | Пакет сейчас отобразится
404         | Без пакета с использованием указанного `ID` и `VERSION` существует

---
title: "Пакет NuGet интерфейса API метаданных | Документы Microsoft"
author:
- joelverhagen
- kraigb
ms.author:
- joelverhagen
- kraigb
manager: skofman
ms.date: 10/26/2017
ms.topic: reference
ms.prod: nuget
ms.technology: 
description: "Пакет регистрации базовый URL-адрес позволяет выборка метаданных о пакетах."
keywords: "Метаданные пакета NuGet интерфейса API, регистрация NuGet интерфейса API, NuGet API отсутствующие пакеты"
ms.reviewer:
- karann
- unniravindranathan
ms.openlocfilehash: c098d70d58011bad7f9829f0c95c87c1339dd362
ms.sourcegitcommit: 262d026beeffd4f3b6fc47d780a2f701451663a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/25/2018
---
# <a name="package-metadata"></a>Метаданные пакета

Можно извлечь метаданные о пакеты, доступные на источник пакета с помощью NuGet V3 API. Эти метаданные могут быть выбраны с помощью `RegistrationsBaseUrl` найти ресурс в [служба индекс](service-index.md).

Коллекция документов, в разделе `RegistrationsBaseUrl` часто называются «регистрации» или «регистрация больших двоичных объектов». Набор документов в одном `RegistrationsBaseUrl` называется «hive регистрации». Куст регистрации содержит все метаданные о каждый пакет, доступный в источнике пакета.

## <a name="versioning"></a>Управление версиями

Следующие `@type` используются значения:

Значение @type                     | Примечания
------------------------------- | -----
RegistrationsBaseUrl            | Первоначальный выпуск
RegistrationsBaseUrl/3.0.0-beta | Псевдоним`RegistrationsBaseUrl`
RegistrationsBaseUrl/3.0.0-rc   | Псевдоним`RegistrationsBaseUrl`
RegistrationsBaseUrl/3.4.0      | Ответы со сжатием gzip
RegistrationsBaseUrl/3.6.0      | Включает пакеты SemVer 2.0.0

Представляет три различных регистрации кустов, доступные для различных версий клиента.

### <a name="registrationsbaseurl"></a>RegistrationsBaseUrl

Регистрации этих не сжимаются (то есть они используют неявный `Content-Encoding: identity`). Пакеты SemVer 2.0.0 **исключен** из этого куста.

### <a name="registrationsbaseurl340"></a>RegistrationsBaseUrl/3.4.0

Регистрации этих сжимаются с помощью `Content-Encoding: gzip`. Пакеты SemVer 2.0.0 **исключен** из этого куста.

### <a name="registrationsbaseurl360"></a>RegistrationsBaseUrl/3.6.0

Регистрации этих сжимаются с помощью `Content-Encoding: gzip`. Пакеты SemVer 2.0.0 **включены** в этот куст.
Дополнительные сведения о SemVer 2.0.0 см. в разделе [SemVer 2.0.0 поддержка nuget.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29).

## <a name="base-url"></a>Базовый URL-адрес

Базовый URL-адрес для следующих API-интерфейсов — это значение `@id` свойства, связанные с ресурсом упомянутой выше `@type` значения. В следующем документе заполнитель базовый URL-адрес `{@id}` будет использоваться.

## <a name="http-methods"></a>Методы HTTP

Все URL-адреса, найден в поддержку ресурсов регистрации методов HTTP `GET` и `HEAD`.

## <a name="registration-index"></a>Индекс регистрации

Регистрация группы ресурсов пакета метаданных по идентификатору пакета. Получить данные о более чем один идентификатор пакета одновременно невозможна. Этот ресурс не предоставляет способ обнаружения идентификаторы пакетов. Вместо этого клиент предполагается, что известен его идентификатор нужный пакет. Доступные метаданные о каждой версии пакета зависит от реализации сервера. Большие двоичные объекты пакета регистрации имеют следующие иерархическую структуру:

- **Индекс**: точка входа для метаданные пакета, совместно использоваться всеми пакетами в источнике с тем же идентификатором пакета.
- **Страница**: группирование версии пакетов. Номер версии пакета на странице определяется реализация сервера.
- **Конечный**: документа, зависит от версии одного пакета.

URL-адрес регистрации индекса является прогнозируемым и может быть определен с заданным ИД пакета и ресурсов регистрации клиента `@id` значение из индекса службы. URL-адреса страницы регистрации и оставляет обнаруживаются путем проверки регистрации индекса.

### <a name="registration-pages-and-leaves"></a>Страницы регистрации и оставляет

Несмотря на то, что он не обязательно для реализации сервера для хранения, регистрации листов в отдельной регистрации Многостраничные документы, это рекомендуется для экономии памяти на стороне клиента. Вместо встроив все регистрации оставляет в индексе или непосредственно хранение оставляет в Многостраничные документы, рекомендуется определить, серверной реализации определенной эвристики для выбора между двумя способами, в зависимости от числа версий пакета или оставляет совокупный размер пакета.

Хранение всех версий пакета (оставляет) в сохраняет индекс регистрации на количество HTTP-запросов необходимые метаданные пакета выборки, но также означает, что необходимо загрузить большой документ и должна быть выделена дополнительная память клиента. С другой стороны если реализация сервера немедленно хранит оставляет регистрации в документах на отдельной странице, то клиент должен выполнить дополнительные HTTP-запросы для получения сведений, которые необходимы.

Эвристику, которая использует nuget.org — следующим образом: Если 128 или несколько версий одного пакета, разбиение листья на страницах размером 64. Если имеется менее 128 версий, все встроенные оставляет в индекс регистрации.

    GET {@id}/{LOWER_ID}/index.json

### <a name="request-parameters"></a>Параметры запроса

name     | Увеличение     | Тип    | Обязательно | Примечания
-------- | ------ | ------- | -------- | -----
LOWER_ID | URL-адрес    | string  | да      | Идентификатор пакета, букв

`LOWER_ID` Значение является Идентификатором нужный пакет букв с помощью правил, реализуемый. NET [ `System.String.ToLowerInvariant()` ](/dotnet/api/system.string.tolowerinvariant?view=netstandard-2.0#System_String_ToLowerInvariant) метод.

### <a name="response"></a>Ответ

Ответ является документ JSON, имеющая корневого объекта со следующими свойствами:

name  | Тип             | Обязательно | Примечания
----- | ---------------- | -------- | -----
count | целочисленный          | да      | Количество страниц регистрации в индексе
items | Массив объектов | да      | Массив страниц регистрации

Каждый элемент в объект индекса `items` массив является объектом JSON, представляющее страницу регистрации.

#### <a name="registration-page-object"></a>Объект страницы регистрации

Объект страницы регистрации найдены в индексе регистрации имеет следующие свойства:

name   | Тип             | Обязательно | Примечания
------ | ---------------- | -------- | -----
@id    | string           | да      | URL-адрес страницы регистрации
count  | целочисленный          | да      | Количество регистраций остается на странице
items  | Массив объектов | Нет       | Массив оставляет регистрации и их сопоставление метаданных
Ниже  | string           | да      | Самая ранняя версия SemVer 2.0.0 на странице (включительно)
parent | string           | Нет       | URL-адрес регистрации индекса
верхний  | string           | да      | Самую новую версию SemVer 2.0.0 на странице (включительно)

`lower` И `upper` границы объекта страницы полезны, если необходимые метаданные для версии определенную страницу.
Эти границы можно использовать для получения только страницы регистрации требуется. Версия строки соответствуют [правила NuGet версии](../reference/package-versioning.md). Строки версии нормализуются и не включают сборки метаданных. Как со всеми версиями в экосистеме NuGet сравнения строк версий реализуется с помощью [SemVer 2.0.0's правил приоритета версии](http://semver.org/spec/v2.0.0.html#spec-item-11).

`parent` Свойство отображается только в том случае, если объект страницы регистрации имеет `items` свойства.

Если `items` свойство отсутствует в объекте страницу регистрации, URL-адрес указан в `@id` должен использоваться для извлечения метаданных о версиях отдельного пакета. `items` Массив иногда исключается из объекта page для оптимизации. Если число версий одного пакета идентификатора очень велика, в документе индекса регистрации будет значительных и затратные процессу для клиента, который прослушивает только о конкретной версии или небольшой диапазон версий.

Обратите внимание, что если `items` свойство присутствует `@id` свойства не должен использоваться, поскольку все данные страницы уже встроена в `items` свойство.

Каждый элемент в объект страницы `items` массив JSON объект, представляющий конечные регистрации и его соответствующее метаданных.

#### <a name="registration-leaf-object-in-a-page"></a>Конечный объект регистрации на странице

Конечный объект регистрации, на странице регистрации имеет следующие свойства:

name           | Тип   | Обязательно | Примечания
-------------- | ------ | -------- | -----
@id            | string | да      | URL-адрес конечного регистрации
catalogEntry   | object | да      | Запись каталога, содержащего метаданные пакета
packageContent | string | да      | URL-адрес содержимого пакета (.nupkg)

Каждый конечный объект регистрации представляет данные, связанные с версией одного пакета.

#### <a name="catalog-entry"></a>Запись каталога

`catalogEntry` Свойства конечного объекта регистрации имеет следующие свойства:

name                     | Тип                       | Обязательно | Примечания
------------------------ | -------------------------- | -------- | -----
@id                      | string                     | да      | URL-адрес для документа, использованного для создания этого объекта
authors                  | Строка или массив строк | Нет       | 
dependencyGroups         | Массив объектов           | Нет       | URL-адрес содержимого пакета (.nupkg)
Описание              | string                     | Нет       | 
iconUrl                  | string                     | Нет       | 
id                       | string                     | да      | Идентификатор пакета
licenseUrl               | string                     | Нет       | 
перечисленные                   | boolean                    | Нет       | Следует рассматривать как перечисленных случае его отсутствия
MinClientVersion         | string                     | Нет       | 
projectUrl               | string                     | Нет       | 
Опубликован                | string                     | Нет       | Строка, содержащая отметку времени ISO 8601, когда пакет опубликован
requireLicenseAcceptance | boolean                    | Нет       | 
сводка                  | string                     | Нет       | 
теги                     | Строка или массив строк  | Нет       | 
заголовок                    | string                     | Нет       | 
version                  | string                     | да      | Версия пакета

`dependencyGroups` Является массивом объектов, представляющих зависимости пакета, сгруппированные по требуемой версии .NET framework. Если пакет не имеет зависимостей, `dependencyGroups` свойство отсутствует, пустой массив или `dependencies` свойства всех групп пуст или отсутствует.

#### <a name="package-dependency-group"></a>Группа зависимостей пакета

Каждый объект группы зависимостей имеет следующие свойства:

name            | Тип             | Обязательно | Примечания
--------------- | ---------------- | -------- | -----
targetFramework | string           | Нет       | Требуемая версия .NET framework, применимые для этих зависимостей
зависимости    | Массив объектов | Нет       |

`targetFramework` Строка использует формат, реализованную библиотекой .NET NuGet [NuGet.Frameworks](https://www.nuget.org/packages/NuGet.Frameworks/). Если не `targetFramework` указан, применяется группа зависимостей на все целевые платформы.

`dependencies` Является массивом объектов, каждый из которых представляет зависимость пакета текущего пакета.

#### <a name="package-dependency"></a>Зависимость пакета

Каждый пакет зависимостей имеет следующие свойства:

name         | Тип   | Обязательно | Примечания
------------ | ------ | -------- | -----
id           | string | да      | Идентификатор пакета зависимостей
range        | object | Нет       | Допустимое [диапазон версий](../reference/package-versioning.md#version-ranges-and-wildcards) зависимости
регистрация | string | Нет       | URL-адрес регистрации индекс для этой зависимости

Если `range` свойство исключено или является пустой строкой, клиент по умолчанию диапазон версий `(, )`. То есть может быть любой версии зависимости.

### <a name="sample-request"></a>Пример запроса

    GET https://api.nuget.org/v3/registration3/nuget.server.core/index.json

### <a name="sample-response"></a>Пример ответа

[!code-JSON [package-registration-index.json](./_data/package-registration-index.json)]

В данном случае индекс регистрации имеет встроенных страницы регистрации, поэтому дополнительные запросы не требуются для получения метаданных о версиях отдельного пакета.

## <a name="registration-page"></a>Страница регистрации

На страницу регистрации содержит оставляет регистрации. URL-адрес для выборки страницу регистрации определяется `@id` свойство в [объект страницы регистрации](#registration-page-object) упомянутых выше.

Когда `items` в регистрации индекс массива не указан, запрос HTTP GET из `@id` значение возвращает документ JSON, который имеет объект как корень. Объект имеет следующие свойства:

name   | Тип             | Обязательно | Примечания
------ | ---------------- | -------- | -----
@id    | string           | да      | URL-адрес страницы регистрации
count  | целочисленный          | да      | Количество регистраций остается на странице
items  | Массив объектов | да      | Массив оставляет регистрации и их сопоставление метаданных
Ниже  | string           | да      | Самая ранняя версия SemVer 2.0.0 на странице (включительно)
parent | string           | да      | URL-адрес регистрации индекса
верхний  | string           | да      | Самую новую версию SemVer 2.0.0 на странице (включительно)

Регистрация конечных объектов имеет такой же, как индекс регистрации [выше](#registration-leaf-object-in-a-page).

## <a name="sample-request"></a>Пример запроса

    GET https://api.nuget.org/v3/registration3/ravendb.client/page/1.0.531/1.0.729-unstable.json

## <a name="sample-response"></a>Пример ответа

[!code-JSON [package-registration-page.json](./_data/package-registration-page.json)]

## <a name="registration-leaf"></a>Регистрация конечных

Регистрация конечных содержит сведения о конкретных ИД и версию пакета. Метаданные о конкретной версии не могут быть доступны в этом документе. Метаданные пакета должны быть извлечены из [индекс регистрации](#registration-index) или [страницы регистрации](#registration-page) (который обнаружения с помощью индекса регистрации).

URL-адрес для получения конечного регистрации берется из `@id` свойства объекта конечного регистрации в индекс регистрации или страница регистрации.

Регистрация конечных является документ JSON с корневого объекта со следующими свойствами:

name           | Тип    | Обязательно | Примечания
-------------- | ------- | -------- | -----
@id            | string  | да      | URL-адрес конечного регистрации
catalogEntry   | string  | Нет       | URL-адрес для записи каталога, которое вызвало эти конечные
перечисленные         | boolean | Нет       | Следует рассматривать как перечисленных случае его отсутствия
packageContent | string  | Нет       | URL-адрес содержимого пакета (.nupkg)
Опубликован      | string  | Нет       | Строка, содержащая отметку времени ISO 8601, когда пакет опубликован
регистрация   | string  | Нет       | URL-адрес регистрации индекса

> [!Note]
> На nuget.org `published` имеет значение года 1900, если пакет не включенных в список.

### <a name="sample-request"></a>Пример запроса

    GET https://api.nuget.org/v3/registration3/nuget.versioning/4.3.0.json

### <a name="sample-response"></a>Пример ответа

[!code-JSON [package-registration-leaf.json](./_data/package-registration-leaf.json)]

---
title: "Публикация пакета NuGet | Документы Майкрософт"
author: kraigb
ms.author: kraigb
manager: ghogen
ms.date: 10/05/2017
ms.topic: article
ms.prod: nuget
ms.technology: 
description: "Подробные инструкции по публикации пакета NuGet на веб-сайте nuget.org или в закрытых веб-каналах, а также по управлению владением пакетом nuget.org."
keywords: "публикация пакета NuGet, владение пакетом NuGet, публикация на веб-сайте nuget.org, закрытые веб-каналы NuGet"
ms.reviewer:
- anangaur
- karann-msft
- unniravindranathan
ms.openlocfilehash: 610b20831b17ca5c1bae07546fde6eff3e2e43cc
ms.sourcegitcommit: b0af28d1c809c7e951b0817d306643fcc162a030
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2018
---
# <a name="publishing-packages"></a>Публикация пакетов

После создания пакета и получения файла `.nukpg` его можно легко опубликовать для других разработчиков на общедоступных или закрытых ресурсах:

- Открытые пакеты публикуются для других разработчиков на глобальном веб-сайте [nuget.org](https://www.nuget.org/packages/manage/upload), как описывается в этом разделе.
- Закрытые пакеты публикуются только для команд или организаций путем размещения на общем файловом ресурсе, закрытом сервере NuGet, в [среде управления пакетами Visual Studio Team Services](https://www.visualstudio.com/docs/package/nuget/publish) или стороннем репозитории, таком как myget, ProGet, Nexus Repository или Artifactory. Дополнительные сведения см. в разделе [Общее сведения о размещении пакетов](../hosting-packages/overview.md).

В этом разделе описывается публикация на веб-сайте nuget.org. Сведения о публикации в Visual Studio Team Services см. в разделе [Управление пакетами](https://www.visualstudio.com/docs/package/nuget/publish).

## <a name="publish-to-nugetorg"></a>Публикация на веб-сайте nuget.org

Для публикации на веб-сайте nuget.org необходимо [зарегистрировать бесплатную учетную запись](https://www.nuget.org/users/account/LogOn?returnUrl=%2F) или войти в существующую:

![Место регистрации и входа в NuGet](media/publish_NuGetSignIn.png)

Далее можно отправить пакет через веб-портал nuget.org, выполнить принудительную отправку на веб-сайт nuget.org из командной строки (требуется `nuget.exe` 4.1.0 или более поздней версии) или опубликовать в рамках процесса непрерывной интеграции и развертывания через Visual Studio Team Services, как описывается в следующих разделах.

### <a name="web-portal-use-the-upload-package-tab-on-nugetorg"></a>Веб-портал. Использование вкладки Upload Package (Отправить пакет) на сайте nuget.org

![Отправка пакета с помощью диспетчера пакетов NuGet](media/publish_UploadYourPackage.PNG)

### <a name="command-line"></a>Командная строка

> [!Important]
> Для принудительной отправки пакетов на веб-сайт nuget.org необходимо использовать [nuget.exe версии 4.1.0 или более поздней](https://www.nuget.org/downloads), где реализуются требуемые [протоколы NuGet](../api/nuget-protocols.md).

1. Щелкните свое имя пользователя, чтобы перейти к параметрам учетной записи.
1. В разделе **Ключ API** щелкните **Копировать в буфер обмена**, чтобы получить ключ доступа, который потребуется в интерфейсе командной строки:

    ![Копирование ключа API из параметров учетной записи](media/publish_APIKey.png)

1. В командной строке выполните следующую команду:

    ```cli
    nuget setApiKey Your-API-Key
    ```

    Ключ API будет сохранен на компьютере, поэтому вам не потребуется выполнять этот шаг снова на том же компьютере.

1. Выполните принудительную отправку в коллекцию NuGet с помощью следующей команды:

    ```cli
    nuget push YourPackage.nupkg -Source https://api.nuget.org/v3/index.json
    ```

1. Перед публикацией все пакеты, загружаемые на веб-сайт nuget.org, проверяются на вирусы и в случае обнаружения вирусов отклоняются. Кроме того, периодическую проверку проходят все пакеты, представленные на веб-сайте nuget.org.

1. В своей учетной записи на веб-сайте nuget.org щелкните **Manage my packages** (Управление моими пакетами), чтобы просмотреть только что опубликованный вами пакет. Кроме того, вы получите подтверждение по электронной почте. Обратите внимание, что пакет индексируется и будет появляться в результатах поиска для других пользователей спустя определенное время. В этот период на странице вашего пакета будет отображаться следующее сообщение:

    ![Сообщение о том, что пакет не индексирован](media/publish_NotYetIndexed.png)

### <a name="package-validation-and-indexing"></a>Проверка и индексирование пакета

Пакеты, передаваемые на веб-сайт NuGet.org, проходят несколько проверок. После того как пакет пройдет все проверки, он будет индексирован и появится в результатах поиска спустя некоторое время. По завершении индексирования вы получите по электронной почте подтверждение о том, что пакет был успешно опубликован. Если пакет не проходит проверку, на странице сведений о пакете отображается соответствующее уведомление об ошибке и вы также получите сообщение электронной почты с уведомлением.

Проверка и индексирование пакета обычно занимает около 15 минут. Если публикация пакета занимает больше времени, перейдите на веб-сайт [status.nuget.org](https://status.nuget.org/) и убедитесь, что портал NuGet.org работает. Если все системы исправны, но пакет не был опубликован в течение часа, войдите на веб-сайт NuGet.org и свяжитесь с нами по ссылке "Связаться со службой поддержки" на странице пакета.

### <a name="visual-studio-team-services-cicd"></a>Visual Studio Team Services (непрерывная интеграция и развертывание)

Если вы отправляете пакеты на веб-сайт nuget.org с использованием Visual Studio Team Services в рамках процесса непрерывной интеграции и развертывания, необходимо использовать `nuget.exe` 4.1 или более поздней версии в задачах NuGet. Дополнительные сведения см. в разделе [Использование последней версии NuGet в сборках](https://blogs.msdn.microsoft.com/devops/2017/09/29/using-the-latest-nuget-in-your-build/) (блог Microsoft DevOps).

## <a name="managing-package-owners-on-nugetorg"></a>Управление владельцами пакетов на веб-сайте nuget.org

Несмотря на то, что в файле `.nuspec` каждого пакета NuGet определены авторы пакета, в коллекции nuget.org эти метаданные не используются для определения владельцев. Вместо этого веб-сайт nuget.org назначает первичные права владения пользователю, который публикует пакет. Это может быть выполнивший вход в систему пользователь, который отправил пакет через пользовательский интерфейс nuget.org, или пользователь, чей ключ API использовался в команде `nuget SetApiKey` или `nuget push`.

Все владельцы пакета имеют полные разрешения на него, в том числе на добавление и удаление других владельцев, а также на публикацию обновлений.

Чтобы изменить владельца пакета, выполните следующие действия:

1. Войдите на веб-сайт nuget.org, используя учетную запись текущего владельца пакета.
1. Щелкните свое имя пользователя, выберите **Управление моими пакетами** и затем щелкните нужный пакет.
1. Щелкните ссылку **Управление владельцами** слева.

В этом разделе можно выполнить разные действия:

1. Чтобы добавить владельца, введите имя соответствующей учетной записи NuGet и щелкните **Добавить**. После этого новому совладельцу будет отправлено сообщение электронной почты со ссылкой для подтверждения. После подтверждения этот пользователь получит полные права доступа для добавления и удаления владельцев. (Пока не будет выполнено подтверждение, на странице **Управление владельцами** для этого пользователя будет отображаться уведомление об ожидании утверждения.)
1. Чтобы удалить владельца, щелкните его имя на странице **Управление владельцами** и выберите **Удалить**.
1. Чтобы передать права владельца (например, в случае смены владельца или публикации с использованием неверной учетной записи), добавьте нового владельца и после получения подтверждения от него попросите удалить вашего пользователя из списка.

Чтобы назначить права владения компании или группе, создайте учетную запись на веб-сайте nuget.org с использованием псевдонима электронной почты, который пересылается соответствующим членам группы. Например, многие пакеты ASP.NET корпорации Майкрософт находятся в совместном владении учетных записей [microsoft](http://nuget.org/profiles/microsoft) и [aspnet](http://nuget.org/profiles/aspnet), которые представляют собой подобные псевдонимы.

### <a name="recovering-package-ownership"></a>Восстановление прав владения пакетом

В некоторых случаях у пакета может отсутствовать активный владелец. Например, исходный владелец может покинуть компанию, которая создает пакет, могут быть утрачены учетные данные nuget.org или из-за предыдущих ошибок в коллекции пакет может остаться без владельца.

Если вы являетесь полноправным владельцем пакета и хотите восстановить права владения, воспользуйтесь [формой для связи](https://www.nuget.org/policies/Contact) на веб-сайте nuget.org и опишите вашу ситуацию сотруднику NuGet. После этого мы проверим ваши права владения пакетом, в том числе попытаемся найти существующего владельца по URL-адресу проекта пакета, через Twitter по электронной почте или другими способами. Если эти способы не помогут, мы пришлем вам новое приглашение стать владельцем.

---
title: "Что такое NuGet и для чего он нужен | Документы Майкрософт"
author: kraigb
ms.author: kraigb
manager: ghogen
ms.date: 10/26/2017
ms.topic: hero-article
ms.prod: nuget
ms.technology: 
ms.assetid: c3faf278-4cbf-4733-96f6-9ee9f7203af9
description: "Комплексное введение о том, что такое NuGet и для чего он нужен"
keywords: "диспетчер пакетов NuGet, использование, создание пакетов, размещение пакетов"
ms.reviewer:
- karann-msft
- unniravindranathan
ms.openlocfilehash: 29dcedf33a54e249fe0b6acf588e4aafde28304f
ms.sourcegitcommit: d0ba99bfe019b779b75731bafdca8a37e35ef0d9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/14/2017
---
# <a name="an-introduction-to-nuget"></a><span data-ttu-id="df9a0-105">Введение в NuGet</span><span class="sxs-lookup"><span data-stu-id="df9a0-105">An introduction to NuGet</span></span>

<span data-ttu-id="df9a0-106">Важный инструмент для любой платформы современной разработки — это механизм, с помощью которого разработчики могут создавать, предоставлять для общего доступа и использовать полезные библиотеки кода.</span><span class="sxs-lookup"><span data-stu-id="df9a0-106">An essential tool for any modern development platform is a mechanism through which developers can create, share, and consume useful libraries of code.</span></span> <span data-ttu-id="df9a0-107">Обычно такие библиотеки называются "пакетами", так как они могут содержать скомпилированный код (в виде библиотек DLL) вместе с другим содержимым, которое может понадобиться в проектах, использующих эти библиотеки.</span><span class="sxs-lookup"><span data-stu-id="df9a0-107">Such libraries are typically referred to as "packages" because they can contain compiled code (as DLLs) along with other content that might be needed in the projects that consume those libraries.</span></span>

<span data-ttu-id="df9a0-108">Для .NET механизмом совместного использования кода является **NuGet**, который определяет, как создаются, размещаются и используются пакеты для .NET, а также предоставляет средства для каждой из этих ролей.</span><span class="sxs-lookup"><span data-stu-id="df9a0-108">For .NET, the mechanism for sharing code is **NuGet**, which defines how packages for .NET are created, hosted, and consumed, and provides the tools for each of those roles.</span></span> 

<span data-ttu-id="df9a0-109">Проще говоря, пакет NuGet представляет собой отдельный ZIP-файл с расширением `.nupkg`, который содержит скомпилированный код (DLL), другие файлы, связанные с этим кодом, и описательный манифест, включающий такие сведения, как номер версии пакета.</span><span class="sxs-lookup"><span data-stu-id="df9a0-109">Put simply, a NuGet package is a single ZIP file with the `.nupkg` extension that contains compiled code (DLLs), other files related to that code, and a descriptive manifest that includes information like the package's version number.</span></span> <span data-ttu-id="df9a0-110">Разработчики библиотек создают файлы пакетов и публикуют их на узле.</span><span class="sxs-lookup"><span data-stu-id="df9a0-110">Library developers create package files and publish them to a host.</span></span> <span data-ttu-id="df9a0-111">Потребители получают эти пакеты, добавляют их в свои проекты и затем вызывают функции этой библиотеки в коде проекта.</span><span class="sxs-lookup"><span data-stu-id="df9a0-111">Package consumers receive those packages, add them to their projects, and then call that library's functionality in their project code.</span></span> <span data-ttu-id="df9a0-112">При этом NuGet сам обрабатывает все промежуточные данные.</span><span class="sxs-lookup"><span data-stu-id="df9a0-112">NuGet itself then handles all of the intermediate details.</span></span>

## <a name="the-flow-of-packages-between-creators-hosts-and-consumers"></a><span data-ttu-id="df9a0-113">Поток пакетов между создателями, узлами и потребителями</span><span class="sxs-lookup"><span data-stu-id="df9a0-113">The flow of packages between creators, hosts, and consumers</span></span>

<span data-ttu-id="df9a0-114">Выполняя роль узла, NuGet обслуживает центральный репозиторий с более чем 60 000 уникальных общедоступных пакетов на сайте [nuget.org](https://www.nuget.org). Ежедневно эти пакеты используют миллионы разработчиков .NET.</span><span class="sxs-lookup"><span data-stu-id="df9a0-114">In its role as host, NuGet itself maintains the central repository of over 60,000 unique, publicly-available packages at [nuget.org](https://www.nuget.org). These packages are employed by millions of .NET developers every day.</span></span> <span data-ttu-id="df9a0-115">NuGet также позволяет размещать пакеты в частном порядке в облаке, в частной сети или даже в вашей локальной файловой системе.</span><span class="sxs-lookup"><span data-stu-id="df9a0-115">NuGet also enables you to host packages privately in the cloud, on a private network, or even on just your local file system.</span></span> <span data-ttu-id="df9a0-116">Таким образом, эти пакеты доступны только разработчикам в определенной организации или группе клиентов.</span><span class="sxs-lookup"><span data-stu-id="df9a0-116">By doing so, those packages are available to only those developers within a particular organization or customer group.</span></span> <span data-ttu-id="df9a0-117">Эти возможности описаны в разделе [Размещение своих веб-каналов NuGet](Hosting-Packages/Overview.md).</span><span class="sxs-lookup"><span data-stu-id="df9a0-117">The options are explained on [Hosting your own NuGet feeds](Hosting-Packages/Overview.md).</span></span>

<span data-ttu-id="df9a0-118">Независимо от своей природы узел выступает в качестве точки подключения между *создателями* и *потребителями* пакета.</span><span class="sxs-lookup"><span data-stu-id="df9a0-118">Whatever its nature, a host serves as a point of connection between package *creators* and package *consumers*.</span></span> <span data-ttu-id="df9a0-119">Создатели разрабатывают полезные пакеты NuGet и публикуют их на узле.</span><span class="sxs-lookup"><span data-stu-id="df9a0-119">Creators build useful NuGet packages and publish them to a host.</span></span> <span data-ttu-id="df9a0-120">Потребители ищут полезные и совместимые пакеты на доступных узлах, скачивая эти пакеты и включая их в свои проекты.</span><span class="sxs-lookup"><span data-stu-id="df9a0-120">Consumers then search for useful and compatible packages on accessible hosts, downloading and including those packages in their projects.</span></span> <span data-ttu-id="df9a0-121">После установки в проекте API пакеты становятся доступны остальной части кода проекта.</span><span class="sxs-lookup"><span data-stu-id="df9a0-121">Once installed in a project, the packages' APIs are available to the rest of the project code.</span></span>

![Связь между создателями, узлами и потребителями пакета](media/nuget-roles.png)

<span data-ttu-id="df9a0-123">"Совместимый" пакет в данном случае означает, что он содержит сборки, созданные по меньшей мере для одной целевой платформы .NET, совместимой с целевой платформой использующего проекта.</span><span class="sxs-lookup"><span data-stu-id="df9a0-123">A "compatible" package in this case means that it contains assemblies built for at least one target .NET framework that's compatible with the consuming project's target framework.</span></span> <span data-ttu-id="df9a0-124">Чтобы обеспечить обширную совместимость пакета, его создатель компилирует отдельные сборки для различных целевых платформ и включает их все в тот же пакет.</span><span class="sxs-lookup"><span data-stu-id="df9a0-124">To make a package widely compatible, its creator compiles separate assemblies for various target frameworks and includes all of them in the same package.</span></span> <span data-ttu-id="df9a0-125">Когда потребитель устанавливает этот пакет, NuGet извлекает только сборки, нужные в проекте.</span><span class="sxs-lookup"><span data-stu-id="df9a0-125">When a consumer installs that package, NuGet extracts only those assemblies that are needed by the project.</span></span> <span data-ttu-id="df9a0-126">Это сводит к минимуму занимаемое пакетом место в конечном приложении или сборках, создаваемых данным проектом.</span><span class="sxs-lookup"><span data-stu-id="df9a0-126">This minimizes the package's footprint in the final application and/or assemblies produced by that project.</span></span>

## <a name="nuget-tools"></a><span data-ttu-id="df9a0-127">Средства NuGet</span><span class="sxs-lookup"><span data-stu-id="df9a0-127">NuGet tools</span></span>

<span data-ttu-id="df9a0-128">Кроме поддержки размещения, NuGet также предоставляет широкий набор средств, используемых как создателями, так и потребителями:</span><span class="sxs-lookup"><span data-stu-id="df9a0-128">In addition to hosting support, NuGet also provides a variety of tools used by both creators and consumers:</span></span>

| <span data-ttu-id="df9a0-129">Средство</span><span class="sxs-lookup"><span data-stu-id="df9a0-129">Tool</span></span> | <span data-ttu-id="df9a0-130">Платформы</span><span class="sxs-lookup"><span data-stu-id="df9a0-130">Platforms</span></span> | <span data-ttu-id="df9a0-131">Применимые сценарии</span><span class="sxs-lookup"><span data-stu-id="df9a0-131">Applicable Scenarios</span></span> | <span data-ttu-id="df9a0-132">Описание</span><span class="sxs-lookup"><span data-stu-id="df9a0-132">Description</span></span> |
| --- | --- | --- | --- |
| [<span data-ttu-id="df9a0-133">Интерфейс командной строки nuget.exe</span><span class="sxs-lookup"><span data-stu-id="df9a0-133">nuget.exe CLI</span></span>](Tools/nuget-exe-CLI-Reference.md) | <span data-ttu-id="df9a0-134">Все</span><span class="sxs-lookup"><span data-stu-id="df9a0-134">All</span></span> | <span data-ttu-id="df9a0-135">Создание, потребление</span><span class="sxs-lookup"><span data-stu-id="df9a0-135">Creation, Consumption</span></span> | <span data-ttu-id="df9a0-136">Предоставляет все функциональные возможности NuGet, при этом часть команд относится к создателям пакета, часть — только к потребителям, а остальные — ко всем.</span><span class="sxs-lookup"><span data-stu-id="df9a0-136">Provides all NuGet capabilities, with some commands applying specifically to package creators, some applying only to consumers, and others applying to both.</span></span> <span data-ttu-id="df9a0-137">Например, создатели пакета используют команду `nuget pack` для создания пакета из различных сборок и связанных файлов, потребители пакета используют `nuget install` для включения пакетов в проект, при этом все используют `nuget config` для задания переменных конфигурации NuGet.</span><span class="sxs-lookup"><span data-stu-id="df9a0-137">For example, package creators use the `nuget pack` command to create a package from various assemblies and related files, package consumers use `nuget install` to include packages in a project, and everyone uses `nuget config` to set NuGet configuration variables.</span></span>  |
| [<span data-ttu-id="df9a0-138">Пользовательский интерфейс диспетчера пакетов</span><span class="sxs-lookup"><span data-stu-id="df9a0-138">Package Manager UI</span></span>](Tools/Package-Manager-UI.md) | <span data-ttu-id="df9a0-139">Visual Studio в Windows</span><span class="sxs-lookup"><span data-stu-id="df9a0-139">Visual Studio on Windows</span></span> | <span data-ttu-id="df9a0-140">Потребление</span><span class="sxs-lookup"><span data-stu-id="df9a0-140">Consumption</span></span> | <span data-ttu-id="df9a0-141">Предоставляет удобный пользовательский интерфейс для установки пакетов и управления ими в проектах .NET.</span><span class="sxs-lookup"><span data-stu-id="df9a0-141">Provides an easy-to-use UI for installing and managing packages in .NET projects.</span></span> | 
| [<span data-ttu-id="df9a0-142">Управление пользовательским интерфейсом NuGet</span><span class="sxs-lookup"><span data-stu-id="df9a0-142">Manage NuGet UI</span></span>](https://docs.microsoft.com/visualstudio/mac/nuget-walkthrough) | <span data-ttu-id="df9a0-143">Visual Studio для Mac</span><span class="sxs-lookup"><span data-stu-id="df9a0-143">Visual Studio for Mac</span></span> | <span data-ttu-id="df9a0-144">Потребление</span><span class="sxs-lookup"><span data-stu-id="df9a0-144">Consumption</span></span> | <span data-ttu-id="df9a0-145">Предоставляет удобный пользовательский интерфейс для установки пакетов и управления ими в проектах .NET.</span><span class="sxs-lookup"><span data-stu-id="df9a0-145">Provide an easy-to-use UI for installing and managing packages in .NET projects.</span></span> |
| [<span data-ttu-id="df9a0-146">Консоль диспетчера пакетов</span><span class="sxs-lookup"><span data-stu-id="df9a0-146">Package Manager Console</span></span>](Tools/Package-Manager-Console.md) | <span data-ttu-id="df9a0-147">Visual Studio в Windows</span><span class="sxs-lookup"><span data-stu-id="df9a0-147">Visual Studio on Windows</span></span> | <span data-ttu-id="df9a0-148">Потребление</span><span class="sxs-lookup"><span data-stu-id="df9a0-148">Consumption</span></span> | <span data-ttu-id="df9a0-149">Предоставляет [команды PowerShell](Tools/Powershell-Reference.md) для установки пакетов и управления ими в проектах .NET.</span><span class="sxs-lookup"><span data-stu-id="df9a0-149">Provides [PowerShell commands](Tools/Powershell-Reference.md) for installing and managing packages in .NET projects.</span></span> | 
| [<span data-ttu-id="df9a0-150">dotnet CLI</span><span class="sxs-lookup"><span data-stu-id="df9a0-150">dotnet CLI</span></span>](Tools/dotnet-Commands.md) | <span data-ttu-id="df9a0-151">Все</span><span class="sxs-lookup"><span data-stu-id="df9a0-151">All</span></span> | <span data-ttu-id="df9a0-152">Создание, потребление</span><span class="sxs-lookup"><span data-stu-id="df9a0-152">Creation, Consumption</span></span> | <span data-ttu-id="df9a0-153">Предоставляет определенные возможности CLI NuGet непосредственно внутри цепочки инструментов .NET Core.</span><span class="sxs-lookup"><span data-stu-id="df9a0-153">Provides certain NuGet CLI capabilities directly within the .NET Core toolchain.</span></span> |
| [<span data-ttu-id="df9a0-154">MSBuild</span><span class="sxs-lookup"><span data-stu-id="df9a0-154">MSBuild</span></span>](Schema/msbuild-targets.md) | <span data-ttu-id="df9a0-155">Windows</span><span class="sxs-lookup"><span data-stu-id="df9a0-155">Windows</span></span> | <span data-ttu-id="df9a0-156">Создание, потребление</span><span class="sxs-lookup"><span data-stu-id="df9a0-156">Creation, Consumption</span></span> | <span data-ttu-id="df9a0-157">Предоставляет возможность создавать и восстанавливать используемые в проекте пакеты напрямую с помощью цепочки инструментов MSBuild.</span><span class="sxs-lookup"><span data-stu-id="df9a0-157">Provides the ability to create packages and restore packages used in a project directly through the MSBuild toolchain.</span></span> |

<span data-ttu-id="df9a0-158">Как видите, средства, которые вы используете для работы с NuGet, в значительной степени зависят от того, создаете ли вы (и публикуете) пакеты или используете их, а также от используемой платформы.</span><span class="sxs-lookup"><span data-stu-id="df9a0-158">As you can see, the tools with which you work with NuGet depend greatly on whether you're creating (and publishing) packages or consuming them, and the platform you're working on.</span></span> <span data-ttu-id="df9a0-159">Более подробные сведения см. в разделах [Рабочий процесс создания пакета](Create-Packages/Overview-and-Workflow.md) и [Рабочий процесс использования пакета](Consume-Packages/Overview-and-Workflow.md), а также других указанных там статьях.</span><span class="sxs-lookup"><span data-stu-id="df9a0-159">More specific details can be found in the [Package creation workflow](Create-Packages/Overview-and-Workflow.md) and [Package consumption workflow](Consume-Packages/Overview-and-Workflow.md) topics, along with other topics in those sections.</span></span> 

<span data-ttu-id="df9a0-160">Создатели пакета обычно также являются потребителями, так как берут за основу функции, имеющиеся в других пакетах NuGet.</span><span class="sxs-lookup"><span data-stu-id="df9a0-160">Package creators are typically also consumers, as they build on top of functionality that exists in other NuGet packages.</span></span> <span data-ttu-id="df9a0-161">Конечно же, те пакеты, в свою очередь, могут зависеть еще от каких-либо.</span><span class="sxs-lookup"><span data-stu-id="df9a0-161">And those packages, of course, may in turn depend on still others.</span></span>

## <a name="managing-dependencies"></a><span data-ttu-id="df9a0-162">Управление зависимостями</span><span class="sxs-lookup"><span data-stu-id="df9a0-162">Managing dependencies</span></span>

<span data-ttu-id="df9a0-163">Возможность легко брать за основу работу других — это один из аспектов, делающих систему управления пакетами настолько эффективной.</span><span class="sxs-lookup"><span data-stu-id="df9a0-163">The ability to easily build on the work of others is one of the things that makes a package management system so powerful.</span></span> <span data-ttu-id="df9a0-164">Соответственно, значительная часть работы NuGet заключается в управлении этим деревом или "графом" зависимостей от имени вашего проекта.</span><span class="sxs-lookup"><span data-stu-id="df9a0-164">Accordingly, much of what NuGet does is managing that dependency tree or "graph" on behalf of your project.</span></span> <span data-ttu-id="df9a0-165">Проще говоря, вам нужно заботиться только о тех пакетах, которые вы используете непосредственно в проекте.</span><span class="sxs-lookup"><span data-stu-id="df9a0-165">Simply said, you need only concern yourself with those packages that you're directly using in a project.</span></span> <span data-ttu-id="df9a0-166">Если любые эти пакеты используют другие пакеты (которые могут использовать пакеты), все эти зависимости нижнего уровня обрабатывает NuGet.</span><span class="sxs-lookup"><span data-stu-id="df9a0-166">If any of those packages themselves consume other packages (which can consume packages), NuGet takes care of all those down-level dependencies.</span></span>

<span data-ttu-id="df9a0-167">На следующем рисунке показан проект, зависящий от пяти пакетов, которые, в свою очередь, зависят от нескольких других.</span><span class="sxs-lookup"><span data-stu-id="df9a0-167">The following image shows a project that depends on five packages, which in turn depend on a number of others.</span></span>  

![Пример графа зависимостей NuGet для проекта .NET](media/dependency-graph.png)

<span data-ttu-id="df9a0-169">Обратите внимание, что некоторые пакеты встречаются на графе зависимостей несколько раз.</span><span class="sxs-lookup"><span data-stu-id="df9a0-169">Notice that some packages appear multiple times in the dependency graph.</span></span> <span data-ttu-id="df9a0-170">Например, существует три разных потребителя пакета B, и каждый из них может также указывать другую версию этого пакета (не показано).</span><span class="sxs-lookup"><span data-stu-id="df9a0-170">For example, there are three different consumers of package B, and each consumer might also specify a different version for that package (not shown).</span></span> <span data-ttu-id="df9a0-171">Так как это обычная практика, NuGet выполняет всю работу, чтобы определить, какая именно версия пакета B удовлетворяет всех потребителей.</span><span class="sxs-lookup"><span data-stu-id="df9a0-171">Because this is a common occurrence, NuGet fortunately does all the hard work to determine exactly which version of package B satisfies all its consumers.</span></span> <span data-ttu-id="df9a0-172">Затем NuGet делает то же самое для всех других пакетов, независимо от того, насколько глубоким становится граф зависимостей.</span><span class="sxs-lookup"><span data-stu-id="df9a0-172">NuGet then does the same for all other packages, no matter how deep the dependency graph becomes.</span></span>

<span data-ttu-id="df9a0-173">Дополнительные сведения о том, как NuGet выполняет эту задачу, см. в разделе [Разрешение зависимостей](Consume-Packages/Dependency-Resolution.md).</span><span class="sxs-lookup"><span data-stu-id="df9a0-173">For more details on how NuGet performs this service, see [Dependency resolution](Consume-Packages/Dependency-Resolution.md).</span></span>

## <a name="tracking-references-and-restoring-packages"></a><span data-ttu-id="df9a0-174">Отслеживание ссылок и восстановление пакетов</span><span class="sxs-lookup"><span data-stu-id="df9a0-174">Tracking references and restoring packages</span></span>

<span data-ttu-id="df9a0-175">Так как проекты можно легко перемещать между компьютерами разработчиков, репозиториями для управления исходным кодом, серверами сборки и т. д., крайне непрактично хранить двоичные сборки из пакетов NuGet напрямую привязанными к проекту.</span><span class="sxs-lookup"><span data-stu-id="df9a0-175">Because projects can easily move between developer computers, source control repositories, build servers, and so forth, it's highly impractical to keep binary assemblies from NuGet packages directly bound to a project.</span></span> <span data-ttu-id="df9a0-176">Это не только раздует каждую копию проекта (что приведет к нецелесообразному расходу места в репозиториях для управления исходным кодом), но и сильно затруднит обновление двоичных файлов пакета до более новых версий, как это потребуется сделать по всем копиям проекта.</span><span class="sxs-lookup"><span data-stu-id="df9a0-176">Not only would this make each copy of the project unnecessarily bloated (and thereby waste space in source control repositories), it would also make it very difficult to update package binaries to newer versions as this would have to be done across all copies of the project.</span></span> 

<span data-ttu-id="df9a0-177">Вместо этого NuGet просто ведет список пакетов, от которых зависит проект (включая зависимости верхнего и нижнего уровней), и дает возможность восстановить все указанные в ссылках пакеты по запросу, как описано в разделе [Восстановление пакетов](Consume-Packages/Package-Restore.md).</span><span class="sxs-lookup"><span data-stu-id="df9a0-177">Instead, NuGet simply maintains a reference list of the packages upon which a project depends (including both top-level and down-level dependencies), and provides the means to restore all referenced packages upon request as described on [Package restore](Consume-Packages/Package-Restore.md).</span></span> <span data-ttu-id="df9a0-178">То есть при установке пакета с некоторого узла в проект NuGet записывает идентификатор пакета и номер версии в этот список ссылок.</span><span class="sxs-lookup"><span data-stu-id="df9a0-178">That is, whenever you install a package from some host into a project, NuGet records the package identifier and version number in this reference list.</span></span> <span data-ttu-id="df9a0-179">(При удалении пакет, конечно же, убирается из этого списка.)</span><span class="sxs-lookup"><span data-stu-id="df9a0-179">(Uninstalling a package, of course, removes it from the list.)</span></span> 

![Список ссылок NuGet создается при установке пакета и может использоваться для восстановления пакетов в другом месте.](media/nuget-restore.png)

<span data-ttu-id="df9a0-181">С помощью одного только списка ссылок NuGet может переустановить &mdash;то есть восстановить&mdash; все эти пакеты с открытых и (или) закрытых узлов в любой момент времени.</span><span class="sxs-lookup"><span data-stu-id="df9a0-181">With only the reference list, NuGet can then reinstall&mdash;that is, restore&mdash;all of those packages from public and/or private hosts at any later time.</span></span> <span data-ttu-id="df9a0-182">(По этой причине nuget.org запрещает полностью удалять опубликованные пакеты, хотя их можно скрыть; см. раздел [Удаление пакетов](Policies/deleting-packages.md).) При фиксации проекта в системе управления исходным кодом или предоставления его для общего доступа каким-либо иным образом вам нужно включить только список ссылок и не нужно включать какие-либо двоичные файлы пакета (см. раздел [Пакеты и система управления исходным кодом](Consume-Packages/Packages-and-Source-Control.md).)</span><span class="sxs-lookup"><span data-stu-id="df9a0-182">(For this reason, nuget.org does not allow permanent deletion of published packages, although they can be hidden; see [Deleting packages](Policies/deleting-packages.md).) When committing a project to source control, or sharing it in some other way, you need only include the reference list and need not include any package binaries (see [Packages and source control](Consume-Packages/Packages-and-Source-Control.md).)</span></span>

<span data-ttu-id="df9a0-183">Компьютер, принимающий проект, например сервер сборки, получающий копию проекта в рамках работы системы автоматического развертывания, просто запрашивает у NuGet восстановление зависимости всякий раз, когда они понадобятся.</span><span class="sxs-lookup"><span data-stu-id="df9a0-183">The computer that receives a project, such as a build server obtaining a copy of the project as part of an automated deployment system, simply asks NuGet to restore dependencies whenever they're needed.</span></span> <span data-ttu-id="df9a0-184">Системы сборки, такие как Visual Studio Team Services, предоставляют шаги "Восстановление NuGet" именно для этой цели.</span><span class="sxs-lookup"><span data-stu-id="df9a0-184">Build systems like Visual Studio Team Services provide "NuGet restore" steps for this exact purpose.</span></span> <span data-ttu-id="df9a0-185">Аналогично, когда разработчики получают копию проекта (как при клонировании репозитория), а затем открывают проект в Visual Studio и запускают сборку, Visual Studio автоматически восстанавливает нужные пакеты NuGet.</span><span class="sxs-lookup"><span data-stu-id="df9a0-185">Similarly, when developers obtain a copy of a project (as when cloning a repository) then open the project in Visual Studio and run a build, Visual Studio automatically restores the necessary NuGet packages.</span></span> <span data-ttu-id="df9a0-186">Разработчики также могут в любое время велеть NuGet восстановить пакеты, используя команду CLI `nuget restore` или командлет `Install-Package` в консоли диспетчера пакетов.</span><span class="sxs-lookup"><span data-stu-id="df9a0-186">Developers can also tell NuGet to restore packages at any time using the `nuget restore` CLI command or the `Install-Package` cmdlet in the Package Manager Console.</span></span>

<span data-ttu-id="df9a0-187">Очевидно, что основная роль NuGet, связанная с разработчиками, заключается в обслуживании этого списка ссылок от имени проекта и предоставлении средств для эффективного восстановления (и обновления) таких указанных в ссылках пакетов.</span><span class="sxs-lookup"><span data-stu-id="df9a0-187">Clearly, then, NuGet's primary role where developers are concerned is maintaining that reference list on behalf of your project and providing the means to efficiently restore (and update) those referenced packages.</span></span>

<span data-ttu-id="df9a0-188">Непосредственная реализация этого процесса видоизменялась в разных версиях NuGet, что привело к появлению нескольких различных *форматов управления пакетами*:</span><span class="sxs-lookup"><span data-stu-id="df9a0-188">How this exactly happens has evolved over the different versions of NuGet, resulting in several *package management formats*, as they're called:</span></span>

- <span data-ttu-id="df9a0-189">[`packages.config`](Schema/packages-config.md): *(NuGet 1.0+)* XML-файл, содержащий плоский список всех зависимостей в проекте, включая зависимости других установленных пакетов.</span><span class="sxs-lookup"><span data-stu-id="df9a0-189">[`packages.config`](Schema/packages-config.md): *(NuGet 1.0+)* An XML file that maintains a flat list of all dependencies in the project, including the dependencies of other installed packages.</span></span> 
- <span data-ttu-id="df9a0-190">[`project.json`](Schema/project-json.md): *(NuGet 3.0+)* JSON-файл, содержащий список зависимостей проекта, при этом общий граф по пакету приведен в связанном файле `project.lock.json`.</span><span class="sxs-lookup"><span data-stu-id="df9a0-190">[`project.json`](Schema/project-json.md): *(NuGet 3.0+)* A JSON file that maintains a list of the project's dependencies with an overall package graph in an associated file, `project.lock.json`.</span></span> <span data-ttu-id="df9a0-191">Такая структура обеспечивает повышенную производительность по сравнению с `packages.config`, как описано в статье [Разрешение зависимостей](Consume-Packages/Dependency-Resolution.md), включая транзитивное восстановление, но обычно она заменяется описанной ниже структурой PackageReference.</span><span class="sxs-lookup"><span data-stu-id="df9a0-191">This structure provides improved performance over `packages.config` as described on [Dependency Resolution](Consume-Packages/Dependency-Resolution.md), including transitive restore, but has itself been generally superseded by PackageReference below.</span></span>
- <span data-ttu-id="df9a0-192">[Ссылки на пакет в файлах проекта](Consume-Packages/Package-References-in-Project-Files.md) (также известные как "PackageReference") | *(NuGet 4.0+)* Ведет список зависимостей верхнего уровня проекта непосредственно в файле проекта, поэтому отдельный файл не требуется.</span><span class="sxs-lookup"><span data-stu-id="df9a0-192">[Package references in project files](Consume-Packages/Package-References-in-Project-Files.md) (also known as "PackageReference") | *(NuGet 4.0+)* Maintains a list of a project's top-level dependencies directly within the project file, so no separate file is needed.</span></span> <span data-ttu-id="df9a0-193">Связанный файл `project.assets.json` создается динамически, как и `project.lock.json`, для управления общим графом зависимостей.</span><span class="sxs-lookup"><span data-stu-id="df9a0-193">An associated file, `project.assets.json`, is dynamically generated like `project.lock.json` to manage the overall dependency graph.</span></span>

<span data-ttu-id="df9a0-194">Применение конкретного формата управления пакетами зависит от типа проекта и доступной версии Visual Studio и NuGet.</span><span class="sxs-lookup"><span data-stu-id="df9a0-194">Which package management format is employed in any given project depends on the project type, and the available version of NuGet and Visual Studio.</span></span> <span data-ttu-id="df9a0-195">Чтобы проверить, какой формат используется, просто найдите `packages.config` или `project.json` в корневом каталоге проекта после установки первого пакета.</span><span class="sxs-lookup"><span data-stu-id="df9a0-195">To check what format is being used, simply look for `packages.config` or `project.json` in the project root after installing your first package.</span></span> <span data-ttu-id="df9a0-196">Если эти файлы отсутствуют, найдите в файле проекта элемент &lt;PackageReference&gt;.</span><span class="sxs-lookup"><span data-stu-id="df9a0-196">If you don't see either file, look in the project file directly for a &lt;PackageReference&gt;element.</span></span>

<span data-ttu-id="df9a0-197">Например, в Visual Studio 2017 `packages.config` используется большинством типов проектов, кроме проектов UWP C# и .NET Core, которые используют PackageReference.</span><span class="sxs-lookup"><span data-stu-id="df9a0-197">In Visual Studio 2017, for example, most project types use `packages.config` except for UWP C# and .NET Core projects which use PackageReference.</span></span> 

## <a name="what-else-does-nuget-do"></a><span data-ttu-id="df9a0-198">Что еще делает NuGet?</span><span class="sxs-lookup"><span data-stu-id="df9a0-198">What else does NuGet do?</span></span>

<span data-ttu-id="df9a0-199">Подведем небольшой итог. NuGet предоставляет (в рамках своей роли размещения) центральный репозиторий nuget.org и поддерживает закрытое размещение.</span><span class="sxs-lookup"><span data-stu-id="df9a0-199">To summarize what we've covered so far, NuGet provides (in its hosting role) the central nuget.org repository and supports private hosting.</span></span> <span data-ttu-id="df9a0-200">NuGet предоставляет разработчикам средства для создания, публикации и использования пакетов.</span><span class="sxs-lookup"><span data-stu-id="df9a0-200">NuGet provides the tools developers need for creating, publishing, and consuming packages.</span></span> <span data-ttu-id="df9a0-201">И самое главное, NuGet ведет список ссылок для пакетов, используемых в проекте, а также позволяет восстанавливать и обновлять пакеты из этого списка.</span><span class="sxs-lookup"><span data-stu-id="df9a0-201">And most importantly, NuGet maintains a reference list of packages used in a project and the ability to restore and update those packages from that list.</span></span>

<span data-ttu-id="df9a0-202">Чтобы обеспечить эффективную работу этих процессов, NuGet осуществляет некоторые оптимизации в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="df9a0-202">To make these processes work efficiently, NuGet does some behind-the-scenes optimizations.</span></span> <span data-ttu-id="df9a0-203">Прежде всего, NuGet управляет кэшами пакетов как на уровне компьютера, так и для отдельных пакетов, чтобы упростить установку и переустановку.</span><span class="sxs-lookup"><span data-stu-id="df9a0-203">Most notably, NuGet manages both computer-wide and project-specific package caches to shortcut installation and reinstallation.</span></span> <span data-ttu-id="df9a0-204">Что касается кэша уровня компьютера, любой пакет, который вы скачиваете и устанавливаете в проекте, сохраняется в кэше, чтобы при установке того же пакета в другом проекте не пришлось скачивать его повторно.</span><span class="sxs-lookup"><span data-stu-id="df9a0-204">Where the computer-wide cache is concerned, any package that you download and install in a project is stored in the cache, such that installing the same package in another project doesn't have to download it again.</span></span> <span data-ttu-id="df9a0-205">Это очень удобно, когда вы часто восстанавливаете большее количество пакетов, например, как на сервере сборки.</span><span class="sxs-lookup"><span data-stu-id="df9a0-205">This is clearly very helpful when you're frequently restoring a larger number of packages, as on a build server.</span></span> <span data-ttu-id="df9a0-206">Дополнительные сведения об этом механизме и работе с ним см. в разделе [Управление кэшем NuGet](Consume-Packages/Managing-the-Nuget-Cache.md).</span><span class="sxs-lookup"><span data-stu-id="df9a0-206">For more details on the mechanism and how to work with it, see [Managing the NuGet cache](Consume-Packages/Managing-the-Nuget-Cache.md).</span></span>

<span data-ttu-id="df9a0-207">В рамках отдельного проекта NuGet выполняет множество операций для управления общим графом зависимостей.</span><span class="sxs-lookup"><span data-stu-id="df9a0-207">Within an individual project, NuGet does a lot of work to manage the overall dependency graph.</span></span> <span data-ttu-id="df9a0-208">(При использовании `project.json` или &lt;PackageReference&gt; NuGet хранит эти сведения во вторичном файле с именем `project.lock.json` и `project.assets.json`, соответственно.) Это также включает в себя разрешение нескольких ссылок на разные версии одного пакета.</span><span class="sxs-lookup"><span data-stu-id="df9a0-208">(When using `project.json` or &lt;PackageReference&gt;, NuGet keeps that information in a secondary file called `project.lock.json` and `project.assets.json`, respectively.) This again includes resolving multiple references to different versions of the same package.</span></span>

<span data-ttu-id="df9a0-209">Таким образом, довольно часто проект зависит от одного или нескольких пакетов, имеющих такие же зависимости.</span><span class="sxs-lookup"><span data-stu-id="df9a0-209">That is, it's quite common that a project takes a dependency on one or more packages that themselves have the same dependencies.</span></span> <span data-ttu-id="df9a0-210">Например, некоторые из наиболее полезных пакетов служебных программ на сайте nuget.org используются многими другими пакетами.</span><span class="sxs-lookup"><span data-stu-id="df9a0-210">For example, some of the most useful utility packages on nuget.org are employed by many other packages.</span></span> <span data-ttu-id="df9a0-211">В общем графе зависимостей вы легко можете иметь десять различных ссылок на разные версии одного пакета.</span><span class="sxs-lookup"><span data-stu-id="df9a0-211">In the entire dependency graph, ten, you could easily have ten different references to different versions of the same package.</span></span> <span data-ttu-id="df9a0-212">Однако вы не хотите привносить несколько версий этого пакета в само приложение, поэтому NuGet определяет, какую отдельную версию можно использовать.</span><span class="sxs-lookup"><span data-stu-id="df9a0-212">However, you don't want to bring multiple versions of that package into the application itself, so NuGet sorts out which single version that everyone can use.</span></span> <span data-ttu-id="df9a0-213">(Дополнительные сведения по этой теме см. в разделе [Разрешение зависимостей](Consume-Packages/Dependency-Resolution.md).)</span><span class="sxs-lookup"><span data-stu-id="df9a0-213">(See [Dependency Resolution](Consume-Packages/Dependency-Resolution.md) for more on this topic.)</span></span>

<span data-ttu-id="df9a0-214">Кроме того, NuGet обслуживает все спецификации, связанные со структурированием пакетов (включая [локализацию](Create-Packages/Creating-Localized-Packages.md) и [отладочные символы](Create-Packages/Symbol-Packages.md)) и ссылками на них (включая [ диапазоны версий](reference/package-versioning.md#version-ranges-and-wildcards) и [предварительные версии](create-packages/Prerelease-Packages.md).) NuGet также предоставляет API для поставщиков учетных данных (для доступа к закрытым узлам) и разработчиков, создающих шаблоны проектов и расширения Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="df9a0-214">Beyond that, NuGet maintains all the specifications related to how packages are structured (including [localization](Create-Packages/Creating-Localized-Packages.md) and [debug symbols](Create-Packages/Symbol-Packages.md)) and how they are referenced (including [version ranges](reference/package-versioning.md#version-ranges-and-wildcards) and [pre-release versions](create-packages/Prerelease-Packages.md).) NuGet also provides APIs for credential providers (for accessing private hosts) and for developers who write Visual Studio extensions and project templates.</span></span>

<span data-ttu-id="df9a0-215">Если изучить содержание этой документации, можно найти все указанные возможности и заметки о выпуске, отсылающие к самому начальному этапу развития NuGet.</span><span class="sxs-lookup"><span data-stu-id="df9a0-215">Take a moment to browse the table of contents for this documentation, and you'll see all of these capabilities represented there, along with release notes dating back to NuGet's beginnings.</span></span>

## <a name="comments-contributions-and-issues"></a><span data-ttu-id="df9a0-216">Комментарии, вклады и проблемы</span><span class="sxs-lookup"><span data-stu-id="df9a0-216">Comments, contributions, and issues</span></span>

<span data-ttu-id="df9a0-217">Мы убедительно просим вас оставлять комментарии и вносить вклад в эту документацию &mdash;просто выберите команды **Комментарии** и **Изменить** на любой странице или посетите [репозиторий документации](https://github.com/NuGet/docs.microsoft.com-nuget/) и [список проблем с документацией](https://github.com/NuGet/docs.microsoft.com-nuget/issues) на сайте GitHub.</span><span class="sxs-lookup"><span data-stu-id="df9a0-217">Finally, we very much welcome comments and contributions to this documentation&mdash;just select the **Comments** and **Edit** commands on any page, or visit the [docs repository](https://github.com/NuGet/docs.microsoft.com-nuget/) and [docs issue list](https://github.com/NuGet/docs.microsoft.com-nuget/issues) on GitHub.</span></span>

<span data-ttu-id="df9a0-218">Мы также рады вкладам в сам NuGet через [различные репозитории GitHub](https://github.com/NuGet/Home); сведения о проблемах NuGet приведены по адресу [https://github.com/NuGet/home/issues](https://github.com/NuGet/home/issues).</span><span class="sxs-lookup"><span data-stu-id="df9a0-218">We also welcome contributions to NuGet itself through its [various GitHub repositories](https://github.com/NuGet/Home); NuGet issues can be found on [https://github.com/NuGet/home/issues](https://github.com/NuGet/home/issues).</span></span>

<span data-ttu-id="df9a0-219">Надеемся, что вам понравится работать с NuGet.</span><span class="sxs-lookup"><span data-stu-id="df9a0-219">Enjoy your NuGet experience!</span></span>

---
title: Заметки о выпуске 2.5 NuGet
description: Заметки о выпуске для NuGet 2.5, включая известные проблемы, исправленные ошибки, добавленные функции и DCR.
author: karann-msft
ms.author: karann
manager: unnir
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: accea5033e44927259537b5047a4a821babc6146
ms.sourcegitcommit: a6ca160b1e7e5c58b135af4eba0e9463127a59e8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2018
ms.locfileid: "32045007"
---
# <a name="nuget-25-release-notes"></a>Заметки о выпуске 2.5 NuGet

[Заметки о выпуске NuGet 2.2.1](../release-notes/nuget-2.2.1.md) | [заметки о выпуске NuGet 2.6](../release-notes/nuget-2.6.md)

NuGet 2.5 была выпущена 25 апреля 2013 г. Этот выпуск был так велико, мы полагаем, вовсе пропустить версии 2.3 и 2.4! На сегодняшний день это наибольшее выпуск, для NuGet, как изменилась с через [160 рабочие элементы](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.5&status=all) в выпуске.

## <a name="acknowledgements"></a>Благодарности

Мы бы хотели поблагодарить следующих внешних участников для их значительный вклад в NuGet 2.5 службу:

1. [Дэниела Plaisted](https://www.codeplex.com/site/users/view/dsplaisted) ([@dsplaisted](https://twitter.com/dsplaisted))
    - [#2847](https://nuget.codeplex.com/workitem/2847) -добавить MonoAndroid, MonoTouch и MonoMac в список известных целевых framework идентификаторов.
2. [Ж. Aragoneses Андреса](https://www.codeplex.com/site/users/view/knocte) ([@knocte](https://twitter.com/knocte))
    - [#2865](https://nuget.codeplex.com/workitem/2865) -исправьте Правописание `NuGet.targets` для учета регистра ОС
3. [Дэвид Fowler](https://www.codeplex.com/site/users/view/dfowler) ([@davidfowl](https://twitter.com/davidfowl))
    - Сделать построения на моно решения.
4. [Эндрю Theken](https://www.codeplex.com/site/users/view/atheken) ([@atheken](https://twitter.com/atheken))
    - Устраните сбои на моно модульных тестов.
5. [Olivier Dagenais](https://www.codeplex.com/site/users/view/OliIsCool) ([@OliIsCool](https://twitter.com/oliiscool))
    - [#2920](https://nuget.codeplex.com/workitem/2920) -команду nuget.exe пакет не распространяется свойства MSBuild
6. [Miroslav Bajtos](https://www.codeplex.com/site/users/view/MiroslavBajtos) ([@bajtos](https://twitter.com/bajtos))
    - [#1511](https://nuget.codeplex.com/workitem/1511) — изменить XML код обработки для сохранения форматирования.
7. [Ральф Адам](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph))
    - Добавить распознанные слова в пользовательский словарь, чтобы разрешить build.cmd для успешного выполнения.
8. [Roggeri Бруно](https://www.codeplex.com/site/users/view/broggeri)
    - Исправьте модульные тесты, при работе в локализованных VS.
9. [Evans Гарета](https://www.codeplex.com/site/users/view/garethevans)
    - Интерфейс, извлеченные из PackageService
10. [Maxime Brugidou](https://www.codeplex.com/site/users/view/brugidou) ([@brugidou](https://twitter.com/brugidou))
     - [#936](https://nuget.codeplex.com/workitem/936) -обрабатывать зависимости проекта, когда при помощи
11. [Xavier Decoster](https://www.codeplex.com/site/users/view/XavierDecoster) ([@XavierDecoster](https://twitter.com/xavierdecoster))
     - [#2991](https://nuget.codeplex.com/workitem/2991), [#3164](https://nuget.codeplex.com/workitem/3164) -поддержки открытым пароля при хранении учетных данных для источника пакета в файлах nuget.cofig
12. [Джеймс Мэннинга](http://www.codeplex.com/site/users/view/jmanning) ([@manningj](https://twitter.com/manningj))
     - [#3190](http://nuget.codeplex.com/workitem/3190), [#3191](http://nuget.codeplex.com/workitem/3191) -описание справки исправить Get-Package

Также Мы ценим следующим специалистам по обнаружению ошибок с помощью NuGet 2.5 бета-версии или версии-Кандидата, были утверждены и исправлена до выпуска окончательной версии:

1. [Реальное Tony](https://www.codeplex.com/site/users/view/CodeChief) ([@CodeChief](https://twitter.com/codechief))
    - [#3200](https://nuget.codeplex.com/workitem/3200) - MSTest разорвано последние версии NuGet 2.4 и 2,5 построений

## <a name="notable-features-in-the-release"></a>Возможности в выпуске

### <a name="allow-users-to-overwrite-content-files-that-already-exist"></a>Разрешить пользователям переопределять файлы содержимого, которые уже существуют.

Одной из наиболее часто запрашиваемых функций все время была возможность перезаписывать файлы содержимого, которые уже существуют на диске, включенный в пакет NuGet. Начиная с версии NuGet 2.5, определяются эти конфликты и предложит перезаписывать файлы, в то время как ранее эти файлы всегда были пропущены.

![Перезапись файлов содержимого](./media/NuGet-2.5/overwrite-file.png)

«nuget.exe обновления» и «Install-Package» теперь имеют новый параметр "-FileConflictAction" некоторых значений по умолчанию для сценариев командной строки.

Задайте действие по умолчанию из пакета уже существует в целевом проекте. Значение «Перезаписать» всегда перезаписывать файлы. Задайте значение «Пропустить», чтобы пропустить файлы. Если не указан, он запрашивает всех конфликтующих файлов.

### <a name="automatic-import-of-msbuild-targets-and-props-files"></a>Автоматический импорт MSBuild целевые объекты и props-файлы

Был создан новый обычную папку верхнего уровня пакета NuGet.  Как узел `\lib`, `\content`, и `\tools`, теперь можно включить `\build` папки в пакет.  В этой папке можно разместить два файла с фиксированными именами `{packageid}.targets` или `{packageid}.props`. Эти два файла может быть либо напрямую в `build` или в отдельных папках так же, как и другие папки. Правило для выбора папки резервную стратегию наилучшего соответствия платформы имеет точно такое же, как те.

При установке пакета NuGet с файлами \build добавит MSBuild `<Import>` в файле проекта, указывающий на элемент `.targets` и `.props` файлов. `.props` Файл добавляется в начале, в то время как `.targets` файл будет добавлен в нижней.

### <a name="specify-different-references-per-platform-using-references-element"></a>Укажите другой ссылок на платформы с помощью `<References/>` элемент

Прежде чем 2.5 в `.nuspec` файла, пользователь может указать только файлы ссылок, нужно добавить для всех framework. Теперь эта новая функция 2.5 пользователя появляется возможность разрабатывать `<reference/>` элемент для каждого из поддерживаемых платформ, например:

```xml
<references>
    <group targetFramework="net45">
        <reference file="a.dll" />
    </group>
    <group targetFramework="netcore45">
        <reference file="b.dll" />
    </group>
    <group>
        <reference file="c.dll" />
    </group>
</references>
```

Ниже приведена последовательность действий для как NuGet добавляет ссылки на проекты, на основе `.nuspec` файла:

1. Найти `lib` папку, которая подходит для целевой версии .NET framework и получение списка сборок из этой папки
1. Отдельно найти ссылается на группу, которая подходит для целевой версии .NET framework и получение списка сборок из этой группы. Группы ссылок не указан целевой платформы является группой отката.
1. Определение пересечения двух списков и использовать его в качестве ссылки для добавления

Эта новая функция позволяет авторам пакетов для использования функции ссылки для использования подмножества сборок в различных платформ, когда иначе потребовалось бы содержат повторяющиеся сборки в несколько `lib` папки.

Примечание: в настоящее время используется пакет nuget.exe для использования этой функции; Обозреватель пакетов NuGet пока не поддерживает его.

### <a name="update-all-button-to-allow-updating-all-packages-at-once"></a>Обновить все кнопку, чтобы разрешить обновление всех пакетов за один раз

Многим из вас известно о командлете PowerShell «Обновление» для обновления всех своих пакетов; Теперь имеется простой способ сделать это через пользовательский интерфейс.

Чтобы опробовать эту функцию:

1. Создание нового приложения ASP.NET MVC
1. Открыть диалоговое окно «Управление пакетами NuGet»
1. Выберите «Обновления»
1. Нажмите кнопку "Обновить все"

![Кнопка «Обновить все» в диалоговом окне](./media/NuGet-2.5/update-all.png)

### <a name="improved-project-reference-support-for-nugetexe-pack"></a>Улучшенные проект ссылку на поддержку nuget.exe пакет

Теперь процессы команду nuget.exe пакетов ссылаться проекты со следующими правилами:

1. Если указанный проект содержит соответствующий `.nuspec` файла, например, имеется файл с именем `proj1.nuspec` в той же папке, что `proj1.csproj`, затем этот проект добавляется как элемент dependency в пакет, используя идентификатор и версия чтения из `.nuspec` файла.
1. В противном случае файлы проекта, на который указывает ссылка, объединены в пакет. Затем проектов ссылается этот проект будет обрабатываться с помощью правила рекурсивно такими же.
1. Все библиотеки DLL, `.pdb`, и `.exe` добавляются файлы.
1. Все файлы содержимого добавляются.
1. Все зависимости, объединяются.

Это позволяет в связанном проекте следует рассматривать как зависимость, при наличии `.nuspec` файла, в противном случае он становится частью пакета.

Дополнительные сведения о здесь: [http://nuget.codeplex.com/workitem/936](http://nuget.codeplex.com/workitem/936)

### <a name="add-a-minimum-nuget-version-property-to-packages"></a>Добавление свойства «Минимальная версия NuGet» в пакеты

Новый атрибут метаданных с названием «minClientVersion» теперь можно указать минимальную версию клиента NuGet требуется для использования пакета.

Эта функция позволяет автору пакета, чтобы указать, что пакет будет работать только после определенной версии NuGet. А новые `.nuspec` функции добавляются после NuGet 2.5, пакеты будут утверждения Минимальная версия NuGet.

```xml
<metadata minClientVersion="2.6">
```

Если у пользователя есть NuGet 2.5 установлен и пакета определяется как требующее 2.6, визуальные подсказки присваивается пользователю о том, что пакет не будет иметь возможность установки. Затем пользователю будет рекомендовано для обновления своих версия NuGet.

Это улучшит на работу существующих начинаются пакеты для установки, но произойдет сбой, указывающий, что версия схемы нераспознанный был определен.

### <a name="dependencies-are-no-longer-unnecessarily-updated-during-package-installation"></a>Зависимости излишне больше не обновляются во время установки пакета

Прежде чем NuGet 2.5 при установке пакета, пакет уже установлен в проекте, зависят от зависимость будет обновлено в рамках новой установки, даже если существующая версия зависимости.

Начиная с помощью NuGet 2.5, если уже выполняется версия зависимости, зависимость не обновляется во время установки других пакетов.

**Сценарий:**

1. Исходный репозиторий содержит пакет B версии 1.0.0 и версии 1.0.2. Он также содержит пакет A имеет зависимость от B (> = 1.0.0).
1. Предполагается, что текущий проект уже содержит пакет B версии 1.0.0 установлен. Теперь необходимо установить пакет A.

**В NuGet версии 2.2 и более ранних версий:**

* При установке пакета A, NuGet будет автоматически обновлена B до версии 1.0.2, несмотря на то, что существующие версии 1.0.0 уже удовлетворяющую зависимостей версии, являющийся > = 1.0.0.

**В NuGet 2.5 и более новых версий:**

* NuGet не будет обновляться B, поскольку обнаружит, что существующие версии 1.0.0 удовлетворяющую версию зависимостей.

Дополнительные сведения об этом изменении см. в разделе подробных [рабочий элемент](http://nuget.codeplex.com/workitem/1681) и связанный с ним [поток дискуссии](http://nuget.codeplex.com/discussions/436712).

### <a name="nugetexe-outputs-http-requests-with-detailed-verbosity"></a>NuGet.exe выходные данные HTTP-запросов, если подробный уровень детализации

При устранении неполадок nuget.exe или просто хотите какие запросов HTTP, выполненных во время операций "-детализации подробные" коммутатор теперь выходные данные всех HTTP-запросов.

![Выходные данные НТТР из nuget.exe](./media/NuGet-2.5/verbosity.png)

### <a name="nugetexe-push-now-supports-unc-and-folder-sources"></a>NuGet.exe принудительной теперь поддерживает источники UNC-пути и папок

Перед NuGet 2.5 если предпринята попытка на основе UNC-путь или локальную папку источника пакета для запуска «nuget.exe push» извещающей завершится сбоем. С компонентом недавно добавленных иерархической конфигурации стать часто nuget.exe для ориентируется источник папку в формате UNC или на основе HTTP галереи NuGet.

Начиная с помощью NuGet 2.5, если nuget.exe определяет источник папку в формате UNC, он выполняет копирование файлов в источнике.

Теперь рассмотрим следующую команду:

```
nuget push -source \\mycompany\repo\ mypackage.1.0.0.nupkg
```

### <a name="nugetexe-supports-explicitly-specified-config-files"></a>NuGet.exe поддерживает явно указанные файлы конфигурации

NuGet.exe команды, которые обращаются к конфигурации (все, кроме «спецификация» и «pack») теперь поддерживает новый "-ConfigFile" параметр, благодаря чему файла конфигурации, определенных для использования вместо файла конфигурации по умолчанию в папке % AppData%\nuget\Nuget.Config.

Пример

```
nuget sources add -name test -source http://test -ConfigFile C:\test\.nuget\Nuget.Config
```

### <a name="support-for-native-projects"></a>Поддержка для собственных проектов

С помощью NuGet 2.5 инструментарий NuGet теперь доступна для собственных проектов в Visual Studio. Ожидается, что наиболее простые пакеты будут использовать функцию импорта MSBuild выше, с помощью средства, созданные [CoApp проекта](http://coapp.org). Дополнительные сведения см. в статье [сведения об этом средстве](http://coapp.org/news/2013-03-27-The-Long-Awaited-post.html) coapp.org веб-сайта.

Имя целевой платформы «native» введено для пакетов, включаемых файлов в \build \content и \tools при установке пакета в проекте.  \`Lib "папка не используется для собственных проектов.

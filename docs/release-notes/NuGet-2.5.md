---
title: Заметки о выпуске 2.5 NuGet
description: Заметки о выпуске для NuGet 2.5, включая известные проблемы, исправления ошибок, добавленные функции и запросы на изменение структуры.
author: karann-msft
ms.author: karann
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: 29d0b33714a574281680e110b967269699afbaf1
ms.sourcegitcommit: 1d1406764c6af5fb7801d462e0c4afc9092fa569
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2018
ms.locfileid: "43550487"
---
# <a name="nuget-25-release-notes"></a>Заметки о выпуске 2.5 NuGet

[Заметки о выпуске NuGet 2.2.1](../release-notes/nuget-2.2.1.md) | [заметки о выпуске NuGet 2.6](../release-notes/nuget-2.6.md)

25 апреля 2013 г. был выпущен NuGet 2.5. Этот выпуск был такой большой размер, мы полагаем, необходимость пропустить версии 2.3 и 2.4! На сегодняшний день это самый крупный выпуск, мы открыли для NuGet, через [160 рабочие элементы](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.5&status=all) в выпуске.

## <a name="acknowledgements"></a>Благодарности

Мы бы хотели поблагодарить следующих внешних участников для их вклад в NuGet 2.5:

1. [Daniel Plaisted](https://www.codeplex.com/site/users/view/dsplaisted) ([@dsplaisted](https://twitter.com/dsplaisted))
    - [#2847](https://nuget.codeplex.com/workitem/2847) -добавить MonoAndroid MonoTouch и MonoMac в список известных целевых идентификаторов платформы.
2. [Ж. Aragoneses Андрес](https://www.codeplex.com/site/users/view/knocte) ([@knocte](https://twitter.com/knocte))
    - [#2865](https://nuget.codeplex.com/workitem/2865) -исправьте Правописание `NuGet.targets` для операционной системы с учетом регистра
3. [Дэвид Фаулер](https://www.codeplex.com/site/users/view/dfowler) ([@davidfowl](https://twitter.com/davidfowl))
    - Сделайте построения в Mono решения.
4. [Эндрю Theken](https://www.codeplex.com/site/users/view/atheken) ([@atheken](https://twitter.com/atheken))
    - Исправьте модульных тестов, сбой в Mono.
5. [Olivier Dagenais](https://www.codeplex.com/site/users/view/OliIsCool) ([@OliIsCool](https://twitter.com/oliiscool))
    - [#2920](https://nuget.codeplex.com/workitem/2920) -команда nuget.exe pack не передает свойства в MSBuild
6. [Miroslav Bajtos](https://www.codeplex.com/site/users/view/MiroslavBajtos) ([@bajtos](https://twitter.com/bajtos))
    - [#1511](https://nuget.codeplex.com/workitem/1511) — изменить XML код обработки для сохранения форматирования.
7. [Ральф ADAM](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph))
    - Добавить пользовательский словарь, чтобы разрешить build.cmd для успешного выполнения распознанных слов.
8. [Бруно Roggeri](https://www.codeplex.com/site/users/view/broggeri)
    - Исправьте модульные тесты, при работе в локализованных VS.
9. [Гарет Эванс](https://www.codeplex.com/site/users/view/garethevans)
    - Интерфейс, извлеченные из PackageService
10. [Максим Brugidou](https://www.codeplex.com/site/users/view/brugidou) ([@brugidou](https://twitter.com/brugidou))
     - [#936](https://nuget.codeplex.com/workitem/936) -обработка зависимостей проекта, при упаковке
11. [Ксавье Декостера](https://www.codeplex.com/site/users/view/XavierDecoster) ([@XavierDecoster](https://twitter.com/xavierdecoster))
     - [#2991](https://nuget.codeplex.com/workitem/2991), [#3164](https://nuget.codeplex.com/workitem/3164) -поддержка Очистить текст пароля при хранении учетных данных для источника пакета в файлах nuget.cofig
12. [Джеймса Мэннинга](http://www.codeplex.com/site/users/view/jmanning) ([@manningj](https://twitter.com/manningj))
     - [#3190](http://nuget.codeplex.com/workitem/3190), [#3191](http://nuget.codeplex.com/workitem/3191) -описание help Get-Package, исправить

Мы также рады будем услышать следующим по обнаружению ошибок с помощью NuGet 2.5 бета-версии или версии-Кандидата, были утверждены и исправлены в окончательном выпуске:

1. [Тони стены](https://www.codeplex.com/site/users/view/CodeChief) ([@CodeChief](https://twitter.com/codechief))
    - [#3200](https://nuget.codeplex.com/workitem/3200) — MSTest, с возможностью разрыва с последней NuGet 2.4 и 2.5 сборки

## <a name="notable-features-in-the-release"></a>Важные возможности в выпуске

### <a name="allow-users-to-overwrite-content-files-that-already-exist"></a>Разрешить пользователям переопределять файлы содержимого, которые уже существуют

Одной из наиболее востребованных функций от общего времени была возможность перезаписывать файлы содержимого, которые уже существуют на диске, включенная в пакет NuGet. Начиная с NuGet 2.5, определяются эти конфликты и будет предложено перезаписать файлы, тогда как ранее эти файлы всегда были пропущены.

![Перезаписать файлы содержимого](./media/NuGet-2.5/overwrite-file.png)

«nuget.exe обновления» и «Install-Package» теперь имеют новый параметр "-FileConflictAction" задать некоторые по умолчанию для сценариев командной строки.

Задайте действие по умолчанию, когда файл из пакета уже существует в целевом проекте. Значение «Перезаписать», чтобы всегда перезаписывать файлы. Значение «Пропустить», чтобы пропустить файлы. Если не указан, он предложит ввести каждый конфликтующий файл.

### <a name="automatic-import-of-msbuild-targets-and-props-files"></a>Автоматический импорт файлов целевых объектов и свойств MSBuild

Был создан новый обычную папку верхнего уровня пакета NuGet.  Как узел `\lib`, `\content`, и `\tools`, вы теперь можете включать `\build` папку в пакет.  В этой папке можно поместить два файла с фиксированными именами `{packageid}.targets` или `{packageid}.props`. Эти два файла может быть либо непосредственно в разделе `build` или в папках зависящие от платформы, как другие папки. Правило для выбора папки стратегия наилучшего соответствия framework именно то, как в их.

Когда NuGet устанавливает пакет с файлами \build, он добавит MSBuild `<Import>` в файле проекта, указывающий на элемент `.targets` и `.props` файлы. `.props` Файл добавляется в верхней, тогда как `.targets` файл добавляется в нижнюю.

### <a name="specify-different-references-per-platform-using-references-element"></a>Укажите различные ссылки на платформу с помощью `<References/>` элемент

Прежде чем 2.5 в `.nuspec` файл, пользователь может указать только файлы ссылок, которую нужно добавить для всех framework. Теперь эта новая функция в версии 2.5, можно создать пользователя `<reference/>` элемент для каждой поддерживаемой платформы, например:

```xml
<references>
    <group targetFramework="net45">
        <reference file="a.dll" />
    </group>
    <group targetFramework="netcore45">
        <reference file="b.dll" />
    </group>
    <group>
        <reference file="c.dll" />
    </group>
</references>
```

Ниже приведена последовательность действий для как NuGet добавляет ссылки на проекты на основе `.nuspec` файла:

1. Найти `lib` папку, которая подходит для целевой платформы и получить список сборок, из этой папки
1. Отдельно найти ссылки на группы, соответствующий требуемой версии .NET framework и получить список сборок, из этой группы. Группа ссылок без целевой платформы, указанной является группой резервный.
1. Определение пересечения двух списков и использовать его в качестве ссылки для добавления

Эта новая функция позволяет авторам пакетов для использования ссылки для применения подмножеств сборок для различных платформ, когда в противном случае потребуется для выполнения повторяющихся сборок в нескольких `lib` папки.

Примечание: необходимо сейчас использовать пакет nuget.exe для использования этой функции; Обозреватель пакетов NuGet пока не поддерживает его.

### <a name="update-all-button-to-allow-updating-all-packages-at-once"></a>Кнопка «Обновить все», чтобы разрешить обновление всех пакетов за один раз

Многие из вас знают о командлете PowerShell «Update-Package» обновить все пакеты; Теперь есть простой способ сделать это через пользовательский интерфейс.

Чтобы опробовать эту функцию:

1. Создайте новое приложение ASP.NET MVC
1. Открыть диалоговое окно «Управление пакетами NuGet»
1. Выберите «Обновления»
1. Нажмите кнопку "Обновить все"

![Кнопка «Обновить все» в диалоговом окне](./media/NuGet-2.5/update-all.png)

### <a name="improved-project-reference-support-for-nugetexe-pack"></a>Поддержка ссылок на улучшенные проекта для nuget.exe пакета

Теперь процессов команды пакет nuget.exe ссылки на проекты со следующими правилами:

1. Если у упоминаемого проекта есть соответствующий `.nuspec` файл, например — в файл с именем `proj1.nuspec` в той же папке, что `proj1.csproj`, то этот проект добавляется как зависимость для пакета, используя идентификатор и версия чтение из `.nuspec` файла.
1. В противном случае файлы проекта, на который указывает ссылка, объединяются в пакет. Затем проектов ссылается этот проект будет обрабатываться с помощью правил привычными рекурсивно.
1. Все библиотеки DLL, `.pdb`, и `.exe` будут добавлены файлы.
1. Все файлы содержимого добавляются.
1. Объединяются все зависимости.

Таким образом, на которую указывает ссылка проекта следует рассматривать как зависимость, если имеется `.nuspec` файл, в противном случае он становится частью пакета.

Подробные сведения приведены здесь: [http://nuget.codeplex.com/workitem/936](http://nuget.codeplex.com/workitem/936)

### <a name="add-a-minimum-nuget-version-property-to-packages"></a>Добавить свойство «Минимальная версия NuGet» в пакеты

Новый атрибут метаданных с именем «minClientVersion» теперь можно указать минимальную версию клиента NuGet, необходимые для использования пакета.

Эта функция позволяет автору пакета для указания, что пакет будет работать только после определенной версии NuGet. А новые `.nuspec` функции добавляются после NuGet 2.5, пакеты будут иметь возможность утверждения под управлением версии NuGet.

```xml
<metadata minClientVersion="2.6">
```

Если у пользователя установлена NuGet 2.5, пакета определяется как требование 2.6 визуальные подсказки будет назначено пользователю, указывающий, что пакет не будет иметь возможность установки. Затем пользователю будет рекомендовано для обновления своей версии NuGet.

Это улучшит по существующему процессу, где пакеты приступить к установке, но затем произойдет сбой, указывающий, что обнаружена версия схемы не распознана.

### <a name="dependencies-are-no-longer-unnecessarily-updated-during-package-installation"></a>Зависимости излишне больше не обновляются во время установки пакета

Перед NuGet 2.5 при установке пакета, зависит от пакета, уже установленного в проекте, зависимость будет обновлено как часть новой установкой, даже если существующая версия соответствует зависимости.

Начиная с NuGet 2.5, если версия зависимости уже удовлетворена, зависимость не обновляется при установке других пакетов.

**Сценарий:**

1. Исходный репозиторий содержит пакет B версии 1.0.0 и 1.0.2. Он также содержит пакета A, который имеет зависимость от B (> = 1.0.0).
1. Предположим, что текущий проект уже содержит пакет B версии 1.0.0 установлен. Теперь вы хотите установить пакет A.

**В NuGet версии 2.2 и более ранних версий:**

* При установке пакета A, NuGet будет автоматически обновлен B 1.0.2, несмотря на то, что существующая версия 1.0.0 уже удовлетворяет ограничение версии зависимостей, который является > = 1.0.0.

**В NuGet 2.5 и более поздних версий:**

* NuGet не будет обновляться B, так как он обнаруживает, что существующая версия 1.0.0 удовлетворяет ограничению по версии зависимости.

Дополнительные сведения об этом изменении см. подробные [рабочий элемент](http://nuget.codeplex.com/workitem/1681) а также связанные [обсуждений](http://nuget.codeplex.com/discussions/436712).

### <a name="nugetexe-outputs-http-requests-with-detailed-verbosity"></a>NuGet.exe выводит HTTP-запросов с подробным уровнем детализации

Если вы устраняете nuget.exe, или просто интересно, какие HTTP-запросы выполняются во время операций, "-уровень детализации подробные" коммутатор теперь выходные данные всех HTTP-запросов.

![Выходные данные HTTP nuget.exe](./media/NuGet-2.5/verbosity.png)

### <a name="nugetexe-push-now-supports-unc-and-folder-sources"></a>NuGet.exe push теперь поддерживает источники UNC и папки

Прежде чем NuGet 2.5 Если была предпринята попытка запуска «nuget.exe push» к источнику пакета, на основе UNC-путь или локальную папку, отправка завершится ошибкой. С помощью функции недавно добавленных иерархической конфигурации его стали распространенными для nuget.exe для нужно выбрать источник папку в формате UNC или коллекции NuGet на основе HTTP.

Начиная с NuGet 2.5, если nuget.exe обнаружит источник папку в формате UNC, он выполняет копирование файлов в источник.

Теперь рассмотрим следующую команду:

```
nuget push -source \\mycompany\repo\ mypackage.1.0.0.nupkg
```

### <a name="nugetexe-supports-explicitly-specified-config-files"></a>NuGet.exe поддерживает явно указанные файлы конфигурации

команды NuGet.exe, которые обращаются к конфигурации (все, кроме «спецификации» и «pack») теперь поддерживает новый "-ConfigFile" параметр, который заставляет файла конфигурации, определенной для использования вместо файла конфигурации по умолчанию в папке % AppData%\nuget\Nuget.Config.

Пример

```
nuget sources add -name test -source http://test -ConfigFile C:\test\.nuget\Nuget.Config
```

### <a name="support-for-native-projects"></a>Поддержка проектов в машинном коде

В NuGet 2.5 инструменты NuGet теперь доступна для собственных проектов в Visual Studio. Ожидается, что наиболее собственные пакеты будут использовать функцию импорты MSBuild выше, с помощью средства, созданные [CoApp проекта](http://coapp.org). Дополнительные сведения в статье [сведения об этом средстве](http://coapp.org/news/2013-03-27-The-Long-Awaited-post.html) coapp.org веб-сайта.

Имя целевой платформы из «native» введено для пакетов включить файлы в \build, \content и \tools, когда пакет устанавливается в собственный проект.  \`Lib "папка не используется для собственных проектов.

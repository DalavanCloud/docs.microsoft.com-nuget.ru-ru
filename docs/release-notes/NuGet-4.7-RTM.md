---
title: Заметки о выпуске версии NuGet 4.7 RTM
description: Заметки о выпуске для NuGet 4.7.0, включая известные проблемы, исправления ошибок, добавленные функции и запросы на изменение структуры.
author: karann-msft
ms.author: karann
ms.date: 5/14/2018
ms.topic: conceptual
ms.openlocfilehash: 4ecbdc5475837b1aa1e723a94c2c6c3e8460f9ef
ms.sourcegitcommit: 1d1406764c6af5fb7801d462e0c4afc9092fa569
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2018
ms.locfileid: "43549432"
---
# <a name="nuget-47-rtm-release-notes"></a><span data-ttu-id="058eb-103">Заметки о выпуске версии NuGet 4.7 RTM</span><span class="sxs-lookup"><span data-stu-id="058eb-103">NuGet 4.7 RTM Release Notes</span></span>

<span data-ttu-id="058eb-104">[Visual Studio 2017 15.7 RTW](https://www.visualstudio.com/news/releasenotes/vs2017-relnotes) включает в себя [NuGet 4.7.0](https://dist.nuget.org/win-x86-commandline/v4.7.0/nuget.exe).</span><span class="sxs-lookup"><span data-stu-id="058eb-104">[Visual Studio 2017 15.7 RTW](https://www.visualstudio.com/news/releasenotes/vs2017-relnotes) comes with [NuGet 4.7.0](https://dist.nuget.org/win-x86-commandline/v4.7.0/nuget.exe).</span></span>

## <a name="summary-whats-new-in-this-release"></a><span data-ttu-id="058eb-105">Сводка. Новые возможности этого выпуска</span><span class="sxs-lookup"><span data-stu-id="058eb-105">Summary: What's New in this Release</span></span>

* <span data-ttu-id="058eb-106">Усовершенствовано подписывание пакетов: теперь поддерживаются [пакеты с подписями репозитория](https://github.com/NuGet/Home/wiki/Repository-Signatures)</span><span class="sxs-lookup"><span data-stu-id="058eb-106">We have augmented package signing to enable [Repository Signed packages](https://github.com/NuGet/Home/wiki/Repository-Signatures)</span></span>

* <span data-ttu-id="058eb-107">В Visual Studio версии 15.7 мы реализовали возможность [переноса существующих проектов, которые используют формат packages.config вместо PackageReference](https://docs.microsoft.com/en-us/nuget/reference/migrate-packages-config-to-package-reference).</span><span class="sxs-lookup"><span data-stu-id="058eb-107">With Visual Studio Version 15.7, we have introduced the capability to [migrate existing projects that use the packages.config format to use PackageReference](https://docs.microsoft.com/en-us/nuget/reference/migrate-packages-config-to-package-reference) instead.</span></span>

## <a name="known-issues"></a><span data-ttu-id="058eb-108">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="058eb-108">Known issues</span></span>

### <a name="the-migrate-packagesconfig-to-packagereference-option-is-not-available-in-the-right-click-context-menu"></a><span data-ttu-id="058eb-109">Параметр `Migrate packages.config to PackageReference...` недоступен в контекстном меню, которое открывается по щелчку правой кнопкой мыши</span><span class="sxs-lookup"><span data-stu-id="058eb-109">The `Migrate packages.config to PackageReference...` option is not available in the right-click context menu</span></span>

#### <a name="issue"></a><span data-ttu-id="058eb-110">Проблеми</span><span class="sxs-lookup"><span data-stu-id="058eb-110">Issue</span></span>

<span data-ttu-id="058eb-111">При первом открытии проект NuGet не удается инициализировать до выполнения операции NuGet.</span><span class="sxs-lookup"><span data-stu-id="058eb-111">When a project is first opened, NuGet may not have initialized until a NuGet operation is performed.</span></span> <span data-ttu-id="058eb-112">В результате параметр миграции не отображается в контекстном меню, которое открывается по щелчку правой кнопкой мыши `packages.config` или `References`.</span><span class="sxs-lookup"><span data-stu-id="058eb-112">This causes the migration option to not show up in the right-click context menu on `packages.config` or `References`.</span></span>

#### <a name="workaround"></a><span data-ttu-id="058eb-113">Обходной путь</span><span class="sxs-lookup"><span data-stu-id="058eb-113">Workaround</span></span>

<span data-ttu-id="058eb-114">Выполните одно из следующих действий NuGet:</span><span class="sxs-lookup"><span data-stu-id="058eb-114">Perform any one of the following NuGet actions:</span></span>
* <span data-ttu-id="058eb-115">Откройте пользовательский интерфейс диспетчера пакетов. Для этого щелкните правой кнопкой мыши `References` и выберите `Manage NuGet Packages...`.</span><span class="sxs-lookup"><span data-stu-id="058eb-115">Open the Package Manager UI - Right-click on `References` and select `Manage NuGet Packages...`</span></span>
* <span data-ttu-id="058eb-116">Откройте консоль диспетчера пакетов. В `Tools > NuGet Package Manager` выберите `Package Manager Console`.</span><span class="sxs-lookup"><span data-stu-id="058eb-116">Open the Package Manager Console - From `Tools > NuGet Package Manager`, select `Package Manager Console`</span></span>
* <span data-ttu-id="058eb-117">Запустите восстановление NuGet. Для этого щелкните правой кнопкой мыши узел решения в обозревателе решений и выберите `Restore NuGet Packages`.</span><span class="sxs-lookup"><span data-stu-id="058eb-117">Run NuGet restore - Right-click on the solution node in the Solution Explorer and select `Restore NuGet Packages`</span></span>
* <span data-ttu-id="058eb-118">Создайте проект, активизирующий восстановление NuGet.</span><span class="sxs-lookup"><span data-stu-id="058eb-118">Build the project which also triggers NuGet restore</span></span>

<span data-ttu-id="058eb-119">Теперь параметр миграции должен отобразиться.</span><span class="sxs-lookup"><span data-stu-id="058eb-119">You should now be able to see the migration option.</span></span> <span data-ttu-id="058eb-120">Обратите внимание, что этот параметр не поддерживается и не будет отображаться для типов проектов ASP.NET и C++.</span><span class="sxs-lookup"><span data-stu-id="058eb-120">Note that this option is not supported and will not show up for ASP.NET and C++ project types.</span></span>

### <a name="issues-with-net-standard-20-with-net-framework--nuget"></a><span data-ttu-id="058eb-121">Проблемы с .NET Standard 2.0, связанные с .NET Framework и NuGet</span><span class="sxs-lookup"><span data-stu-id="058eb-121">Issues with .NET Standard 2.0 with .NET Framework & NuGet</span></span>

<span data-ttu-id="058eb-122">Платформа .NET Standard и ее инструментарий были разработаны таким образом, чтобы проекты, предназначенные для .NET Framework 4.6.1, могли использовать пакеты NuGet и проекты, предназначенные для .NET Standard 2.0 или более ранних версий.</span><span class="sxs-lookup"><span data-stu-id="058eb-122">.NET Standard & its tooling was designed such that projects targeting .NET Framework 4.6.1 can consume NuGet packages & projects targeting .NET Standard 2.0 or earlier.</span></span> <span data-ttu-id="058eb-123">[В этом документе](https://github.com/dotnet/standard/issues/481) кратко описаны проблемы, связанные с таким сценарием, план их решения, а также обходные пути, которые можно применить в текущем состоянии.</span><span class="sxs-lookup"><span data-stu-id="058eb-123">[This document](https://github.com/dotnet/standard/issues/481) summarizes the issues around that scenario, the plan for addressing them, and workarounds you can deploy with today's state of the tooling.</span></span>

## <a name="top-issues-fixed-in-this-release"></a><span data-ttu-id="058eb-124">Основные ошибки, исправленные в этом выпуске</span><span class="sxs-lookup"><span data-stu-id="058eb-124">Top issues fixed in this release</span></span>

### <a name="bugs"></a><span data-ttu-id="058eb-125">Ошибки</span><span class="sxs-lookup"><span data-stu-id="058eb-125">Bugs</span></span>

* <span data-ttu-id="058eb-126">NuGet достигает взаимоблокировки в системе проектов .Net Core (новая регрессия).</span><span class="sxs-lookup"><span data-stu-id="058eb-126">NuGet runs into a deadlock in .Net Core project system (new regression).</span></span><span data-ttu-id="058eb-127"> - [#6733](https://github.com/NuGet/Home/issues/6733)</span><span class="sxs-lookup"><span data-stu-id="058eb-127"> - [#6733](https://github.com/NuGet/Home/issues/6733)</span></span>
* <span data-ttu-id="058eb-128">Пакет: PackagePath создается неправильно при использовании TfmSpecificPackageFile с путями глобализации — [#6726](https://github.com/NuGet/Home/issues/6726)</span><span class="sxs-lookup"><span data-stu-id="058eb-128">Pack: PackagePath is constructed incorrectly if TfmSpecificPackageFile is used with globbing paths - [#6726](https://github.com/NuGet/Home/issues/6726)</span></span>
* <span data-ttu-id="058eb-129">Пакет: проект веб-API не может создать пакет, если явно не указать ispackable.</span><span class="sxs-lookup"><span data-stu-id="058eb-129">Pack: web api project cannot create package unless ispackable is explicitly set.</span></span><span data-ttu-id="058eb-130"> - [#6156](https://github.com/NuGet/Home/issues/6156)</span><span class="sxs-lookup"><span data-stu-id="058eb-130"> - [#6156](https://github.com/NuGet/Home/issues/6156)</span></span>
* <span data-ttu-id="058eb-131">Пользовательский интерфейс VS и PMC отображает новый пакет через 30 минут (nuget.exe отображает его сразу) — [#6657](https://github.com/NuGet/Home/issues/6657)</span><span class="sxs-lookup"><span data-stu-id="058eb-131">VS UI and PMC take 30min to see new package (nuget.exe sees it right away) - [#6657](https://github.com/NuGet/Home/issues/6657)</span></span>
* <span data-ttu-id="058eb-132">Подписи: SignatureUtility.GetCertificateChain(...) не проверяет все состояния цепочки — [#6565](https://github.com/NuGet/Home/issues/6565)</span><span class="sxs-lookup"><span data-stu-id="058eb-132">Signing:  SignatureUtility.GetCertificateChain(...) does not check all chain statuses - [#6565](https://github.com/NuGet/Home/issues/6565)</span></span>
* <span data-ttu-id="058eb-133">Подписи: улучшение обработки DER GeneralizedTime — [#6564](https://github.com/NuGet/Home/issues/6564)</span><span class="sxs-lookup"><span data-stu-id="058eb-133">Signing:  improve DER GeneralizedTime handling - [#6564](https://github.com/NuGet/Home/issues/6564)</span></span>
* <span data-ttu-id="058eb-134">Подписи: VS не отображает ошибку NU3002 при установке подделанного пакета — [#6337](https://github.com/NuGet/Home/issues/6337)</span><span class="sxs-lookup"><span data-stu-id="058eb-134">Signing: VS does not show a NU3002 error when installing a tampered package - [#6337](https://github.com/NuGet/Home/issues/6337)</span></span>
* <span data-ttu-id="058eb-135">Для lockFile.GetLibrary учитывается регистр — [#6500](https://github.com/NuGet/Home/issues/6500)</span><span class="sxs-lookup"><span data-stu-id="058eb-135">lockFile.GetLibrary is case sensitive - [#6500](https://github.com/NuGet/Home/issues/6500)</span></span>
* <span data-ttu-id="058eb-136">Операции установки или обновления кода восстановления и восстановления путей кода не соответствуют — [#3471](https://github.com/NuGet/Home/issues/3471)</span><span class="sxs-lookup"><span data-stu-id="058eb-136">Install/update restore code and Restore code paths are not consistent - [#3471](https://github.com/NuGet/Home/issues/3471)</span></span>
* <span data-ttu-id="058eb-137">ComboBox версии решения PackageManager поддерживает выбор разделителя с помощью клавиатуры — [#2606](https://github.com/NuGet/Home/issues/2606)</span><span class="sxs-lookup"><span data-stu-id="058eb-137">Solution PackageManager Version ComboBox can select separator via keyboard - [#2606](https://github.com/NuGet/Home/issues/2606)</span></span>
* <span data-ttu-id="058eb-138">Не удается загрузить индекс службы для источника `https://www.myget.org/F/<id>` ---> System.Net.Http.HttpRequestException: код состояния ответа не указывает на успешное выполнение: 403 (запрещено) — [#2530](https://github.com/NuGet/Home/issues/2530)</span><span class="sxs-lookup"><span data-stu-id="058eb-138">Unable to load the service index for source `https://www.myget.org/F/<id>` ---> System.Net.Http.HttpRequestException: Response status code does not indicate success: 403 (Forbidden) - [#2530](https://github.com/NuGet/Home/issues/2530)</span></span>

### <a name="dcrs"></a><span data-ttu-id="058eb-139">Запросы на изменение структуры</span><span class="sxs-lookup"><span data-stu-id="058eb-139">DCRs</span></span>

* <span data-ttu-id="058eb-140">Выведение заголовка X-NuGet-Session-Id для обеспечения корреляции между запросами [предлагаемая функция] — [#5330](https://github.com/NuGet/Home/issues/5330)</span><span class="sxs-lookup"><span data-stu-id="058eb-140">Emit X-NuGet-Session-Id header to correlate across requests [feature proposal] - [#5330](https://github.com/NuGet/Home/issues/5330)</span></span>
* <span data-ttu-id="058eb-141">Раскрытие способа ожидания выполнения операции восстановления, запущенной в Visual Studio через интерфейс API векторов инициализации.</span><span class="sxs-lookup"><span data-stu-id="058eb-141">Expose a way to wait on running restore operation running in Visual Studio via IVs apis.</span></span><span data-ttu-id="058eb-142"> - [#6029](https://github.com/NuGet/Home/issues/6029)</span><span class="sxs-lookup"><span data-stu-id="058eb-142"> - [#6029](https://github.com/NuGet/Home/issues/6029)</span></span>
* <span data-ttu-id="058eb-143">NuGet.exe: -NoServiceEndpoint позволяет избежать добавления суффикса URL-адреса службы — [#6586](https://github.com/NuGet/Home/issues/6586)</span><span class="sxs-lookup"><span data-stu-id="058eb-143">NuGet.exe -NoServiceEndpoint will avoid appending service url suffix - [#6586](https://github.com/NuGet/Home/issues/6586)</span></span>
* <span data-ttu-id="058eb-144">Добавление хэша фиксации к информационной версии — [#6492](https://github.com/NuGet/Home/issues/6492)</span><span class="sxs-lookup"><span data-stu-id="058eb-144">add commit hash to informational version - [#6492](https://github.com/NuGet/Home/issues/6492)</span></span>
* <span data-ttu-id="058eb-145">Подписи: включение удаления подписи или подписи другой стороны репозитория — [#6646](https://github.com/NuGet/Home/issues/6646)</span><span class="sxs-lookup"><span data-stu-id="058eb-145">Signing:  enable removal of repository signature/countersignature - [#6646](https://github.com/NuGet/Home/issues/6646)</span></span>
* <span data-ttu-id="058eb-146">Подписи: API для удаления подписи или подписи другой стороны репозитория — [#6589](https://github.com/NuGet/Home/issues/6589)</span><span class="sxs-lookup"><span data-stu-id="058eb-146">Signing:  API for stripping repository signature/countersignature - [#6589](https://github.com/NuGet/Home/issues/6589)</span></span>
* <span data-ttu-id="058eb-147">Включение в журнал сведений об источнике в VS — [#6527](https://github.com/NuGet/Home/issues/6527)</span><span class="sxs-lookup"><span data-stu-id="058eb-147">Log source information in VS - [#6527](https://github.com/NuGet/Home/issues/6527)</span></span>
* <span data-ttu-id="058eb-148">Фильтрация для папки /tools только в TFM и RID, чтобы параметры XML можно было включить в папку /tools — [#6197](https://github.com/NuGet/Home/issues/6197)</span><span class="sxs-lookup"><span data-stu-id="058eb-148">Filter /tools on only TFM and RID, so the settings XML can be put in /tools folder - [#6197](https://github.com/NuGet/Home/issues/6197)</span></span>
* <span data-ttu-id="058eb-149">Предупреждение, когда команда упаковывания исключает файл, который начинается с .</span><span class="sxs-lookup"><span data-stu-id="058eb-149">Warn when Pack command excludes a file that starts with .</span></span><span data-ttu-id="058eb-150">  - [#3308](https://github.com/NuGet/Home/issues/3308)</span><span class="sxs-lookup"><span data-stu-id="058eb-150">  - [#3308](https://github.com/NuGet/Home/issues/3308)</span></span>

[<span data-ttu-id="058eb-151">Список всех ошибок, исправленных в этом выпуске</span><span class="sxs-lookup"><span data-stu-id="058eb-151">List of all issues fixed in this release</span></span>](https://github.com/NuGet/Home/issues?q=is%3Aissue+is%3Aclosed+milestone%3A%224.7")
